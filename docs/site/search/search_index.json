{"config":{"lang":["en"],"separator":"[\\s\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":"We Build What Matters. <p>Engineering documentation for Hybridinteractive Consultancy</p>   Software engineering is **problem-solving**.   Not typing code. Not attending meetings. Not chasing frameworks.   **Solving real problems for real people.**   Our Beliefs Code is a liability, not an asset. Less code means fewer bugs, faster systems, and easier maintenance. Every line you don't write is a line you don't have to debug. Complexity is the enemy. If you can't explain it simply, you don't understand it well enough. Simple systems are reliable systems. Working software beats perfect documentation. But great engineers do both. Ship first, document well, iterate always. Abstraction is powerful, until it isn't. Know when to hide complexity and when to expose it. Not everything needs to be generic. Technical debt is a loan, not a gift. Every shortcut accrues interest. Track it, prioritize it, pay it back. How We Think  Before writing any code, we ask:   <ol> <li>What problem are we actually solving?</li> <li>Who has this problem?</li> <li>What's the simplest solution that could work?</li> <li>What will break when this scales?</li> <li>What will the next engineer think?</li> </ol> Our Standards \u2192 Modular Monolith over premature microservices \u2192 Dependency Injection over global state \u2192 Explicit over implicit \u2192 Boring technology over trendy \u2192 Tested assumptions over confident guesses Explore Engineering Principles How we think about building software Tech Stack What we use and why FCube CLI Our project generator tool Engineering Guides How we work day-to-day"},{"location":"fcube/","title":"FCube CLI","text":"<p>A modular monolith generator for FastAPI applications.</p>"},{"location":"fcube/#what-is-fcube","title":"What is FCube?","text":"<p>FCube is a CLI tool that generates production-ready FastAPI projects with:</p> <ul> <li>Modular architecture \u2014 Clean separation of concerns</li> <li>Dependency injection \u2014 Testable, maintainable code</li> <li>Database patterns \u2014 CRUD, transactions, migrations</li> <li>Plugin system \u2014 Extend with reusable components</li> </ul> <pre><code># Create a new project\nfcube startproject myapp\n\n# Add a module\nfcube addmodule products\n\n# Add authentication\nfcube adduser --jwt\n\n# Add a plugin\nfcube addplugin referral\n</code></pre>"},{"location":"fcube/#why-fcube","title":"Why FCube?","text":""},{"location":"fcube/#the-problem","title":"The Problem","text":"<p>Starting a new FastAPI project means:</p> <ol> <li>Setting up project structure manually</li> <li>Configuring database connections</li> <li>Implementing auth from scratch</li> <li>Building common patterns repeatedly</li> </ol> <p>This takes hours and often leads to inconsistent architectures across projects.</p>"},{"location":"fcube/#the-solution","title":"The Solution","text":"<p>FCube codifies our best practices into a generator:</p> Without FCube With FCube 4+ hours of setup 2 minutes Inconsistent structure Standardized architecture Auth from scratch Built-in JWT + role-based Manual CRUD Generated CRUD patterns No plugin system Extensible plugins"},{"location":"fcube/#key-features","title":"Key Features","text":"<ul> <li> <p> Modular Architecture</p> <p>Each module is self-contained with its own models, schemas, CRUD, services, and routes.</p> </li> <li> <p> Dependency Injection</p> <p>Clean DI pattern with FastAPI's <code>Depends()</code> system for testability.</p> </li> <li> <p> Database Patterns</p> <p>SQLAlchemy 2.0 ORM, async sessions, and Alembic migrations.</p> </li> <li> <p> Authentication</p> <p>JWT-based auth with role-based permissions and refresh tokens.</p> </li> <li> <p> Plugin System</p> <p>Add pre-built features like referral systems or deployment configs.</p> </li> <li> <p> Code Generation</p> <p>Templates for models, schemas, CRUD, services, and routes.</p> </li> </ul>"},{"location":"fcube/#quick-start","title":"Quick Start","text":"<pre><code># Install FCube\npip install fcube\n\n# Create a new project\nfcube startproject myapp\ncd myapp\n\n# Set up environment\npython -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\n\n# Initialize database\nalembic upgrade head\n\n# Run the server\nuvicorn app.main:app --reload\n</code></pre> <p>That's it! Open http://localhost:8000/docs to see your API.</p>"},{"location":"fcube/#documentation","title":"Documentation","text":"<ul> <li> <p> Getting Started</p> <p>Installation, first project, and basic usage.</p> <p> Get started</p> </li> <li> <p> Commands Reference</p> <p>All CLI commands with options and examples.</p> <p> View commands</p> </li> <li> <p> Generated Architecture</p> <p>Understand the project structure and patterns.</p> <p> Learn architecture</p> </li> <li> <p> Plugin System</p> <p>Use and create plugins for FCube.</p> <p> Explore plugins</p> </li> <li> <p> Contributing</p> <p>How to contribute to FCube development.</p> <p> Contribute</p> </li> </ul>"},{"location":"fcube/architecture/","title":"Generated Architecture","text":"<p>Understanding the project structure and patterns generated by FCube.</p>"},{"location":"fcube/architecture/#project-overview","title":"Project Overview","text":"<pre><code>myapp/\n\u251c\u2500\u2500 app/                     # Application code\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 main.py             # FastAPI application entry\n\u2502   \u251c\u2500\u2500 apis/               # API versioning\n\u2502   \u251c\u2500\u2500 core/               # Core infrastructure\n\u2502   \u251c\u2500\u2500 models/             # SQLAlchemy models\n\u2502   \u251c\u2500\u2500 schemas/            # Pydantic schemas\n\u2502   \u251c\u2500\u2500 crud/               # Database operations\n\u2502   \u251c\u2500\u2500 services/           # Business logic\n\u2502   \u2514\u2500\u2500 routes/             # API endpoints\n\u251c\u2500\u2500 alembic/                # Database migrations\n\u251c\u2500\u2500 tests/                  # Test suite\n\u2514\u2500\u2500 ...config files\n</code></pre>"},{"location":"fcube/architecture/#layered-architecture","title":"Layered Architecture","text":"<p>FCube generates a clean layered architecture:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Routes (HTTP)              \u2502  API layer\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Services                   \u2502  Business logic\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                CRUD                     \u2502  Data access\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Models                     \u2502  Domain entities\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"fcube/architecture/#request-flow","title":"Request Flow","text":"<pre><code>HTTP Request\n    \u2502\n    \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Route       \u2502  Validates input, calls service\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Service      \u2502  Orchestrates business logic\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502      CRUD       \u2502  Executes database operations\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n         \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502     Model       \u2502  Maps to database tables\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"fcube/architecture/#core-components","title":"Core Components","text":""},{"location":"fcube/architecture/#mainpy","title":"main.py","text":"<p>The application entry point:</p> <pre><code>from fastapi import FastAPI\nfrom app.apis import v1\nfrom app.core.config import settings\nfrom app.core.database import engine\n\napp = FastAPI(\n    title=settings.PROJECT_NAME,\n    version=\"1.0.0\",\n    docs_url=\"/docs\",\n    redoc_url=\"/redoc\",\n)\n\n# Include API router\napp.include_router(v1.router, prefix=\"/api/v1\")\n\n\n@app.on_event(\"startup\")\nasync def startup():\n    # Initialize database connection\n    pass\n\n\n@app.on_event(\"shutdown\")\nasync def shutdown():\n    # Cleanup\n    pass\n</code></pre>"},{"location":"fcube/architecture/#configpy","title":"config.py","text":"<p>Centralized settings using Pydantic:</p> <pre><code>from pydantic_settings import BaseSettings\n\n\nclass Settings(BaseSettings):\n    # Database\n    DATABASE_URL: str\n\n    # Security\n    SECRET_KEY: str\n    JWT_SECRET_KEY: str\n    JWT_ALGORITHM: str = \"HS256\"\n    ACCESS_TOKEN_EXPIRE_MINUTES: int = 30\n\n    # Application\n    PROJECT_NAME: str = \"MyApp\"\n    DEBUG: bool = False\n\n    class Config:\n        env_file = \".env\"\n        case_sensitive = True\n\n\nsettings = Settings()\n</code></pre>"},{"location":"fcube/architecture/#databasepy","title":"database.py","text":"<p>Async database connection:</p> <pre><code>from sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker, declarative_base\n\nfrom app.core.config import settings\n\n# Create async engine\nengine = create_async_engine(\n    settings.DATABASE_URL,\n    echo=settings.DEBUG,\n    pool_pre_ping=True,\n)\n\n# Session factory\nAsyncSessionLocal = sessionmaker(\n    engine,\n    class_=AsyncSession,\n    expire_on_commit=False,\n)\n\n# Base class for models\nBase = declarative_base()\n\n\nasync def get_db():\n    \"\"\"Dependency for database sessions.\"\"\"\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n            await session.commit()\n        except Exception:\n            await session.rollback()\n            raise\n        finally:\n            await session.close()\n</code></pre>"},{"location":"fcube/architecture/#module-structure","title":"Module Structure","text":"<p>Each module follows the same pattern:</p>"},{"location":"fcube/architecture/#model-modelsproductspy","title":"Model (<code>models/products.py</code>)","text":"<pre><code>from datetime import datetime\nfrom uuid import UUID, uuid4\nfrom sqlalchemy import String, Numeric, Boolean, DateTime, func\nfrom sqlalchemy.orm import Mapped, mapped_column\n\nfrom app.core.database import Base\n\n\nclass Product(Base):\n    __tablename__ = \"products\"\n\n    id: Mapped[UUID] = mapped_column(primary_key=True, default=uuid4)\n    name: Mapped[str] = mapped_column(String(255))\n    description: Mapped[str | None] = mapped_column(String(1000))\n    price: Mapped[Decimal] = mapped_column(Numeric(10, 2))\n    is_active: Mapped[bool] = mapped_column(default=True)\n    created_at: Mapped[datetime] = mapped_column(\n        DateTime(timezone=True),\n        server_default=func.now()\n    )\n    updated_at: Mapped[datetime] = mapped_column(\n        DateTime(timezone=True),\n        server_default=func.now(),\n        onupdate=func.now()\n    )\n</code></pre>"},{"location":"fcube/architecture/#schemas-schemasproductspy","title":"Schemas (<code>schemas/products.py</code>)","text":"<pre><code>from datetime import datetime\nfrom decimal import Decimal\nfrom uuid import UUID\nfrom pydantic import BaseModel, Field\n\n\nclass ProductBase(BaseModel):\n    name: str = Field(..., min_length=1, max_length=255)\n    description: str | None = Field(None, max_length=1000)\n    price: Decimal = Field(..., gt=0)\n\n\nclass ProductCreate(ProductBase):\n    pass\n\n\nclass ProductUpdate(BaseModel):\n    name: str | None = Field(None, min_length=1, max_length=255)\n    description: str | None = None\n    price: Decimal | None = Field(None, gt=0)\n    is_active: bool | None = None\n\n\nclass ProductResponse(ProductBase):\n    id: UUID\n    is_active: bool\n    created_at: datetime\n    updated_at: datetime\n\n    model_config = {\"from_attributes\": True}\n</code></pre>"},{"location":"fcube/architecture/#crud-crudproductspy","title":"CRUD (<code>crud/products.py</code>)","text":"<pre><code>from uuid import UUID\nfrom sqlalchemy import select\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom app.models.products import Product\nfrom app.schemas.products import ProductCreate, ProductUpdate\n\n\nclass ProductCRUD:\n    def __init__(self, db: AsyncSession):\n        self.db = db\n\n    async def create(self, data: ProductCreate) -&gt; Product:\n        product = Product(**data.model_dump())\n        self.db.add(product)\n        await self.db.flush()\n        await self.db.refresh(product)\n        return product\n\n    async def get(self, id: UUID) -&gt; Product | None:\n        stmt = select(Product).where(Product.id == id)\n        result = await self.db.execute(stmt)\n        return result.scalar_one_or_none()\n\n    async def get_all(\n        self,\n        skip: int = 0,\n        limit: int = 100,\n        active_only: bool = True,\n    ) -&gt; list[Product]:\n        stmt = select(Product)\n        if active_only:\n            stmt = stmt.where(Product.is_active == True)\n        stmt = stmt.offset(skip).limit(limit)\n        result = await self.db.execute(stmt)\n        return result.scalars().all()\n\n    async def update(self, id: UUID, data: ProductUpdate) -&gt; Product | None:\n        product = await self.get(id)\n        if not product:\n            return None\n\n        update_data = data.model_dump(exclude_unset=True)\n        for key, value in update_data.items():\n            setattr(product, key, value)\n\n        await self.db.flush()\n        await self.db.refresh(product)\n        return product\n\n    async def delete(self, id: UUID) -&gt; bool:\n        product = await self.get(id)\n        if not product:\n            return False\n        await self.db.delete(product)\n        return True\n</code></pre>"},{"location":"fcube/architecture/#service-servicesproductspy","title":"Service (<code>services/products.py</code>)","text":"<pre><code>from uuid import UUID\nfrom fastapi import HTTPException, status\n\nfrom app.crud.products import ProductCRUD\nfrom app.schemas.products import ProductCreate, ProductUpdate, ProductResponse\n\n\nclass ProductService:\n    def __init__(self, crud: ProductCRUD):\n        self.crud = crud\n\n    async def create_product(self, data: ProductCreate) -&gt; ProductResponse:\n        product = await self.crud.create(data)\n        return ProductResponse.model_validate(product)\n\n    async def get_product(self, id: UUID) -&gt; ProductResponse:\n        product = await self.crud.get(id)\n        if not product:\n            raise HTTPException(\n                status_code=status.HTTP_404_NOT_FOUND,\n                detail=\"Product not found\"\n            )\n        return ProductResponse.model_validate(product)\n\n    async def list_products(\n        self,\n        skip: int = 0,\n        limit: int = 100,\n    ) -&gt; list[ProductResponse]:\n        products = await self.crud.get_all(skip=skip, limit=limit)\n        return [ProductResponse.model_validate(p) for p in products]\n\n    async def update_product(\n        self,\n        id: UUID,\n        data: ProductUpdate,\n    ) -&gt; ProductResponse:\n        product = await self.crud.update(id, data)\n        if not product:\n            raise HTTPException(\n                status_code=status.HTTP_404_NOT_FOUND,\n                detail=\"Product not found\"\n            )\n        return ProductResponse.model_validate(product)\n\n    async def delete_product(self, id: UUID) -&gt; None:\n        deleted = await self.crud.delete(id)\n        if not deleted:\n            raise HTTPException(\n                status_code=status.HTTP_404_NOT_FOUND,\n                detail=\"Product not found\"\n            )\n</code></pre>"},{"location":"fcube/architecture/#routes-routesproductspy","title":"Routes (<code>routes/products.py</code>)","text":"<pre><code>from uuid import UUID\nfrom fastapi import APIRouter, Depends, status\n\nfrom app.schemas.products import ProductCreate, ProductUpdate, ProductResponse\nfrom app.services.products import ProductService\nfrom app.core.dependencies import get_product_service\n\nrouter = APIRouter()\n\n\n@router.post(\"/\", response_model=ProductResponse, status_code=status.HTTP_201_CREATED)\nasync def create_product(\n    data: ProductCreate,\n    service: ProductService = Depends(get_product_service),\n):\n    \"\"\"Create a new product.\"\"\"\n    return await service.create_product(data)\n\n\n@router.get(\"/\", response_model=list[ProductResponse])\nasync def list_products(\n    skip: int = 0,\n    limit: int = 100,\n    service: ProductService = Depends(get_product_service),\n):\n    \"\"\"List all products.\"\"\"\n    return await service.list_products(skip=skip, limit=limit)\n\n\n@router.get(\"/{id}\", response_model=ProductResponse)\nasync def get_product(\n    id: UUID,\n    service: ProductService = Depends(get_product_service),\n):\n    \"\"\"Get a product by ID.\"\"\"\n    return await service.get_product(id)\n\n\n@router.patch(\"/{id}\", response_model=ProductResponse)\nasync def update_product(\n    id: UUID,\n    data: ProductUpdate,\n    service: ProductService = Depends(get_product_service),\n):\n    \"\"\"Update a product.\"\"\"\n    return await service.update_product(id, data)\n\n\n@router.delete(\"/{id}\", status_code=status.HTTP_204_NO_CONTENT)\nasync def delete_product(\n    id: UUID,\n    service: ProductService = Depends(get_product_service),\n):\n    \"\"\"Delete a product.\"\"\"\n    await service.delete_product(id)\n</code></pre>"},{"location":"fcube/architecture/#dependency-injection","title":"Dependency Injection","text":""},{"location":"fcube/architecture/#dependenciespy","title":"dependencies.py","text":"<pre><code>from fastapi import Depends\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\nfrom app.core.database import get_db\nfrom app.crud.products import ProductCRUD\nfrom app.services.products import ProductService\n\n\nasync def get_product_crud(\n    db: AsyncSession = Depends(get_db),\n) -&gt; ProductCRUD:\n    return ProductCRUD(db)\n\n\nasync def get_product_service(\n    crud: ProductCRUD = Depends(get_product_crud),\n) -&gt; ProductService:\n    return ProductService(crud)\n</code></pre>"},{"location":"fcube/architecture/#benefits","title":"Benefits","text":"<ol> <li>Testability \u2014 Mock dependencies easily</li> <li>Clarity \u2014 All dependencies are explicit</li> <li>Flexibility \u2014 Swap implementations without changing code</li> </ol>"},{"location":"fcube/architecture/#key-patterns","title":"Key Patterns","text":"Pattern Purpose Repository (CRUD) Abstracts database operations Service Layer Contains business logic DTOs (Schemas) Data transfer and validation Dependency Injection Inversion of control Unit of Work Transaction management via session"},{"location":"fcube/commands/","title":"Commands Reference","text":"<p>Complete reference for all FCube CLI commands.</p>"},{"location":"fcube/commands/#global-options","title":"Global Options","text":"<p>These options are available for all commands:</p> Option Description <code>--help</code> Show help message <code>--version</code> Show FCube version"},{"location":"fcube/commands/#startproject","title":"startproject","text":"<p>Create a new FastAPI project.</p> <pre><code>fcube startproject &lt;project_name&gt; [OPTIONS]\n</code></pre>"},{"location":"fcube/commands/#arguments","title":"Arguments","text":"Argument Required Description <code>project_name</code> Yes Name of the project (creates directory)"},{"location":"fcube/commands/#options","title":"Options","text":"Option Default Description <code>--no-git</code> False Skip Git initialization <code>--no-venv</code> False Skip virtual environment creation"},{"location":"fcube/commands/#examples","title":"Examples","text":"<pre><code># Basic project\nfcube startproject myapp\n\n# Without Git\nfcube startproject myapp --no-git\n\n# Custom location\ncd /path/to/projects\nfcube startproject myapp\n</code></pre>"},{"location":"fcube/commands/#generated-structure","title":"Generated Structure","text":"<pre><code>myapp/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 main.py\n\u2502   \u251c\u2500\u2500 apis/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u2514\u2500\u2500 v1.py\n\u2502   \u251c\u2500\u2500 core/\n\u2502   \u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2502   \u251c\u2500\u2500 config.py\n\u2502   \u2502   \u251c\u2500\u2500 database.py\n\u2502   \u2502   \u251c\u2500\u2500 dependencies.py\n\u2502   \u2502   \u2514\u2500\u2500 security.py\n\u2502   \u251c\u2500\u2500 models/\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 schemas/\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 services/\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 crud/\n\u2502   \u2502   \u2514\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 routes/\n\u2502       \u2514\u2500\u2500 __init__.py\n\u251c\u2500\u2500 alembic/\n\u2502   \u251c\u2500\u2500 versions/\n\u2502   \u251c\u2500\u2500 env.py\n\u2502   \u2514\u2500\u2500 script.py.mako\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 conftest.py\n\u251c\u2500\u2500 .env.example\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 alembic.ini\n\u251c\u2500\u2500 pyproject.toml\n\u251c\u2500\u2500 requirements.txt\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"fcube/commands/#addmodule","title":"addmodule","text":"<p>Add a new module (feature) to the project.</p> <pre><code>fcube addmodule &lt;module_name&gt; [OPTIONS]\n</code></pre>"},{"location":"fcube/commands/#arguments_1","title":"Arguments","text":"Argument Required Description <code>module_name</code> Yes Name of the module (e.g., <code>products</code>)"},{"location":"fcube/commands/#options_1","title":"Options","text":"Option Default Description <code>--no-routes</code> False Skip route generation <code>--no-crud</code> False Skip CRUD generation <code>--no-service</code> False Skip service generation"},{"location":"fcube/commands/#examples_1","title":"Examples","text":"<pre><code># Full module with all components\nfcube addmodule products\n\n# Model and schema only\nfcube addmodule products --no-routes --no-crud --no-service\n\n# Multiple modules\nfcube addmodule products\nfcube addmodule categories\nfcube addmodule orders\n</code></pre>"},{"location":"fcube/commands/#generated-files","title":"Generated Files","text":"<pre><code>app/\n\u251c\u2500\u2500 models/products.py       # SQLAlchemy model\n\u251c\u2500\u2500 schemas/products.py      # Pydantic schemas\n\u251c\u2500\u2500 crud/products.py         # CRUD operations\n\u251c\u2500\u2500 services/products.py     # Business logic\n\u2514\u2500\u2500 routes/products.py       # API endpoints\n</code></pre>"},{"location":"fcube/commands/#auto-registration","title":"Auto-Registration","text":"<p>Routes are automatically added to <code>app/apis/v1.py</code>:</p> <pre><code>from app.routes import products\n\nrouter.include_router(products.router, prefix=\"/products\", tags=[\"products\"])\n</code></pre>"},{"location":"fcube/commands/#adduser","title":"adduser","text":"<p>Add user authentication module.</p> <pre><code>fcube adduser [OPTIONS]\n</code></pre>"},{"location":"fcube/commands/#options_2","title":"Options","text":"Option Default Description <code>--jwt</code> True Use JWT authentication <code>--roles</code> True Include role-based permissions <code>--refresh</code> True Include refresh token support"},{"location":"fcube/commands/#examples_2","title":"Examples","text":"<pre><code># Full authentication\nfcube adduser\n\n# Basic JWT without roles\nfcube adduser --no-roles\n\n# JWT only (no refresh tokens)\nfcube adduser --no-refresh\n</code></pre>"},{"location":"fcube/commands/#generated-files_1","title":"Generated Files","text":"<pre><code>app/\n\u251c\u2500\u2500 models/user.py           # User model with password hashing\n\u251c\u2500\u2500 schemas/user.py          # Auth schemas (login, register, tokens)\n\u251c\u2500\u2500 crud/user.py             # User CRUD\n\u251c\u2500\u2500 services/user.py         # Auth logic (login, register)\n\u251c\u2500\u2500 routes/auth.py           # Auth endpoints\n\u2514\u2500\u2500 core/\n    \u2514\u2500\u2500 security.py          # JWT utilities, password hashing\n</code></pre>"},{"location":"fcube/commands/#endpoints-added","title":"Endpoints Added","text":"Endpoint Method Description <code>/auth/register</code> POST Register new user <code>/auth/login</code> POST Login and get tokens <code>/auth/refresh</code> POST Refresh access token <code>/auth/me</code> GET Get current user"},{"location":"fcube/commands/#addplugin","title":"addplugin","text":"<p>Add a plugin to the project.</p> <pre><code>fcube addplugin &lt;plugin_name&gt; [OPTIONS]\n</code></pre>"},{"location":"fcube/commands/#arguments_2","title":"Arguments","text":"Argument Required Description <code>plugin_name</code> Yes Name of the plugin to install"},{"location":"fcube/commands/#options_3","title":"Options","text":"Option Default Description <code>--dry-run</code> False Preview changes without applying <code>--force</code> False Overwrite existing files"},{"location":"fcube/commands/#examples_3","title":"Examples","text":"<pre><code># List available plugins\nfcube plugins\n\n# Install a plugin\nfcube addplugin referral\n\n# Preview what would be installed\nfcube addplugin deploy_vps --dry-run\n\n# Force overwrite existing files\nfcube addplugin referral --force\n</code></pre>"},{"location":"fcube/commands/#available-plugins","title":"Available Plugins","text":"Plugin Description <code>referral</code> Referral system with levels and rewards <code>deploy_vps</code> VPS deployment with Docker, Nginx, SSL"},{"location":"fcube/commands/#plugins","title":"plugins","text":"<p>List available plugins.</p> <pre><code>fcube plugins\n</code></pre>"},{"location":"fcube/commands/#output","title":"Output","text":"<pre><code>Available Plugins:\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n  referral (v1.0.0)\n  Multi-tier referral system with configurable levels and rewards\n\n  deploy_vps (v1.0.0)\n  Complete VPS deployment with Docker, Nginx, SSL, Redis, Celery\n\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\nInstall a plugin with: fcube addplugin &lt;plugin_name&gt;\n</code></pre>"},{"location":"fcube/commands/#common-workflows","title":"Common Workflows","text":""},{"location":"fcube/commands/#new-project-setup","title":"New Project Setup","text":"<pre><code># Create project\nfcube startproject myapp\ncd myapp\n\n# Add authentication\nfcube adduser --jwt\n\n# Add modules\nfcube addmodule products\nfcube addmodule orders\nfcube addmodule customers\n\n# Set up environment\npython -m venv venv\nsource venv/bin/activate\npip install -r requirements.txt\n\n# Configure database\ncp .env.example .env\n# Edit .env with your settings\n\n# Run migrations\nalembic upgrade head\n\n# Start server\nuvicorn app.main:app --reload\n</code></pre>"},{"location":"fcube/commands/#adding-features-to-existing-project","title":"Adding Features to Existing Project","text":"<pre><code># Navigate to project\ncd myapp\n\n# Add new module\nfcube addmodule reviews\n\n# Add referral system\nfcube addplugin referral\n\n# Run new migrations\nalembic revision --autogenerate -m \"add reviews and referral\"\nalembic upgrade head\n</code></pre>"},{"location":"fcube/commands/#preparing-for-deployment","title":"Preparing for Deployment","text":"<pre><code># Add deployment plugin\nfcube addplugin deploy_vps\n\n# Configure deployment\ncd deploy-vps\n./scripts/setup.sh\n\n# Deploy\n./scripts/deploy.sh init\n</code></pre>"},{"location":"fcube/contributing/","title":"Contributing to FCube","text":"<p>How to contribute to FCube development.</p>"},{"location":"fcube/contributing/#getting-started","title":"Getting Started","text":""},{"location":"fcube/contributing/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11+</li> <li>Git</li> <li>A GitHub account</li> </ul>"},{"location":"fcube/contributing/#fork-and-clone","title":"Fork and Clone","text":"<pre><code># Fork the repository on GitHub, then:\ngit clone https://github.com/YOUR_USERNAME/fcube.git\ncd fcube\n\n# Add upstream remote\ngit remote add upstream https://github.com/hybridinteract/fcube.git\n</code></pre>"},{"location":"fcube/contributing/#set-up-development-environment","title":"Set Up Development Environment","text":"<pre><code># Create virtual environment\npython -m venv venv\nsource venv/bin/activate\n\n# Install in development mode\npip install -e \".[dev]\"\n\n# Run tests to verify setup\npytest\n</code></pre>"},{"location":"fcube/contributing/#development-workflow","title":"Development Workflow","text":""},{"location":"fcube/contributing/#1-create-a-branch","title":"1. Create a Branch","text":"<pre><code># Sync with upstream\ngit fetch upstream\ngit checkout main\ngit merge upstream/main\n\n# Create feature branch\ngit checkout -b feature/my-feature\n</code></pre>"},{"location":"fcube/contributing/#2-make-changes","title":"2. Make Changes","text":"<p>Follow the code style guidelines and add tests for new functionality.</p>"},{"location":"fcube/contributing/#3-run-tests","title":"3. Run Tests","text":"<pre><code># Run all tests\npytest\n\n# Run with coverage\npytest --cov=fcube\n\n# Run specific test file\npytest tests/test_cli.py\n</code></pre>"},{"location":"fcube/contributing/#4-commit-changes","title":"4. Commit Changes","text":"<pre><code># Stage changes\ngit add .\n\n# Commit with conventional message\ngit commit -m \"feat(cli): add dry-run mode to addplugin\"\n</code></pre>"},{"location":"fcube/contributing/#5-push-and-create-pr","title":"5. Push and Create PR","text":"<pre><code>git push origin feature/my-feature\n</code></pre> <p>Then create a Pull Request on GitHub.</p>"},{"location":"fcube/contributing/#code-style","title":"Code Style","text":""},{"location":"fcube/contributing/#python","title":"Python","text":"<p>We use these tools:</p> Tool Purpose <code>ruff</code> Linting <code>black</code> Formatting <code>mypy</code> Type checking <pre><code># Format code\nblack fcube/\n\n# Lint code\nruff check fcube/\n\n# Type check\nmypy fcube/\n</code></pre>"},{"location":"fcube/contributing/#commit-messages","title":"Commit Messages","text":"<p>Follow Conventional Commits:</p> <pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n\n&lt;body&gt;\n\n&lt;footer&gt;\n</code></pre> <p>Types:</p> <ul> <li><code>feat</code> \u2014 New feature</li> <li><code>fix</code> \u2014 Bug fix</li> <li><code>docs</code> \u2014 Documentation</li> <li><code>style</code> \u2014 Formatting</li> <li><code>refactor</code> \u2014 Code restructuring</li> <li><code>test</code> \u2014 Adding tests</li> <li><code>chore</code> \u2014 Maintenance</li> </ul> <p>Examples:</p> <pre><code>feat(cli): add startproject command\nfix(templates): correct import path in routes\ndocs(readme): update installation instructions\n</code></pre>"},{"location":"fcube/contributing/#adding-commands","title":"Adding Commands","text":""},{"location":"fcube/contributing/#1-create-command-function","title":"1. Create Command Function","text":"<pre><code># fcube/commands/mycommand.py\nfrom pathlib import Path\nfrom typing import List, Tuple\n\nfrom fcube.utils.helpers import write_file\n\n\ndef execute_mycommand(\n    name: str,\n    app_dir: Path,\n) -&gt; List[Path]:\n    \"\"\"\n    Execute mycommand logic.\n\n    Args:\n        name: Name parameter\n        app_dir: Application directory\n\n    Returns:\n        List of created files\n    \"\"\"\n    files_created = []\n\n    # Generate files\n    content = generate_content(name)\n    file_path = app_dir / f\"{name}.py\"\n    write_file(file_path, content)\n    files_created.append(file_path)\n\n    return files_created\n</code></pre>"},{"location":"fcube/contributing/#2-register-in-cli","title":"2. Register in CLI","text":"<pre><code># fcube/cli.py\nimport typer\nfrom fcube.commands.mycommand import execute_mycommand\n\napp = typer.Typer()\n\n\n@app.command(\"mycommand\")\ndef mycommand(\n    name: str = typer.Argument(..., help=\"Name parameter\"),\n    dry_run: bool = typer.Option(False, \"--dry-run\", help=\"Preview changes\"),\n):\n    \"\"\"Description of mycommand.\"\"\"\n    app_dir = Path.cwd() / \"app\"\n\n    if dry_run:\n        typer.echo(\"Would create files...\")\n        return\n\n    files = execute_mycommand(name, app_dir)\n\n    for file in files:\n        typer.echo(f\"\u2713 Created {file}\")\n</code></pre>"},{"location":"fcube/contributing/#3-add-tests","title":"3. Add Tests","text":"<pre><code># tests/test_mycommand.py\nimport pytest\nfrom pathlib import Path\nfrom fcube.commands.mycommand import execute_mycommand\n\n\ndef test_mycommand_creates_file(tmp_path):\n    \"\"\"Test that mycommand creates expected file.\"\"\"\n    app_dir = tmp_path / \"app\"\n    app_dir.mkdir()\n\n    files = execute_mycommand(\"test\", app_dir)\n\n    assert len(files) == 1\n    assert files[0].exists()\n    assert \"test\" in files[0].read_text()\n</code></pre>"},{"location":"fcube/contributing/#adding-plugins","title":"Adding Plugins","text":""},{"location":"fcube/contributing/#1-create-plugin-directory","title":"1. Create Plugin Directory","text":"<pre><code>fcube/templates/plugins/my_plugin/\n\u251c\u2500\u2500 __init__.py\n\u251c\u2500\u2500 templates.py\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"fcube/contributing/#2-define-metadata","title":"2. Define Metadata","text":"<pre><code># __init__.py\nfrom dataclasses import dataclass\nfrom pathlib import Path\nfrom typing import List, Tuple\n\nfrom fcube.templates.plugins import PluginMetadata\nfrom .templates import generate_model, generate_schema, generate_service\n\n\ndef install_my_plugin(app_dir: Path) -&gt; List[Tuple[Path, str]]:\n    \"\"\"Install plugin files.\"\"\"\n    return [\n        (app_dir / \"models\" / \"my_plugin.py\", generate_model()),\n        (app_dir / \"schemas\" / \"my_plugin.py\", generate_schema()),\n        (app_dir / \"services\" / \"my_plugin.py\", generate_service()),\n    ]\n\n\nPLUGIN_METADATA = PluginMetadata(\n    name=\"my_plugin\",\n    description=\"What this plugin does\",\n    version=\"1.0.0\",\n    dependencies=[],\n    files_generated=[\n        \"app/models/my_plugin.py\",\n        \"app/schemas/my_plugin.py\",\n        \"app/services/my_plugin.py\",\n    ],\n    config_required=False,\n    post_install_notes=\"Post-installation instructions\",\n    installer=install_my_plugin,\n)\n</code></pre>"},{"location":"fcube/contributing/#3-create-templates","title":"3. Create Templates","text":"<pre><code># templates.py\ndef generate_model() -&gt; str:\n    return '''from sqlalchemy import ...\n# Model code\n'''\n\n\ndef generate_schema() -&gt; str:\n    return '''from pydantic import ...\n# Schema code\n'''\n\n\ndef generate_service() -&gt; str:\n    return '''# Service code\n'''\n</code></pre>"},{"location":"fcube/contributing/#4-register-plugin","title":"4. Register Plugin","text":"<pre><code># fcube/templates/plugins/__init__.py\ndef _discover_plugins() -&gt; None:\n    from .my_plugin import PLUGIN_METADATA as my_plugin_metadata\n    register_plugin(my_plugin_metadata)\n</code></pre>"},{"location":"fcube/contributing/#5-add-tests","title":"5. Add Tests","text":"<pre><code># tests/test_plugins/test_my_plugin.py\ndef test_my_plugin_installs(tmp_path):\n    \"\"\"Test plugin installation.\"\"\"\n    from fcube.templates.plugins.my_plugin import install_my_plugin\n\n    app_dir = tmp_path / \"app\"\n    app_dir.mkdir()\n\n    files = install_my_plugin(app_dir)\n\n    assert len(files) == 3\n    for path, content in files:\n        assert content  # Content is not empty\n</code></pre>"},{"location":"fcube/contributing/#testing","title":"Testing","text":""},{"location":"fcube/contributing/#running-tests","title":"Running Tests","text":"<pre><code># All tests\npytest\n\n# With coverage\npytest --cov=fcube --cov-report=html\n\n# Specific test\npytest tests/test_cli.py::test_startproject\n</code></pre>"},{"location":"fcube/contributing/#test-structure","title":"Test Structure","text":"<pre><code>tests/\n\u251c\u2500\u2500 conftest.py              # Shared fixtures\n\u251c\u2500\u2500 test_cli.py              # CLI integration tests\n\u251c\u2500\u2500 test_commands/\n\u2502   \u251c\u2500\u2500 test_startproject.py\n\u2502   \u251c\u2500\u2500 test_addmodule.py\n\u2502   \u2514\u2500\u2500 test_addplugin.py\n\u251c\u2500\u2500 test_templates/\n\u2502   \u251c\u2500\u2500 test_model_templates.py\n\u2502   \u2514\u2500\u2500 test_schema_templates.py\n\u2514\u2500\u2500 test_plugins/\n    \u251c\u2500\u2500 test_referral.py\n    \u2514\u2500\u2500 test_deploy_vps.py\n</code></pre>"},{"location":"fcube/contributing/#pull-request-checklist","title":"Pull Request Checklist","text":"<p>Before submitting a PR, ensure:</p> <ul> <li> Tests pass (<code>pytest</code>)</li> <li> Code is formatted (<code>black fcube/</code>)</li> <li> Linting passes (<code>ruff check fcube/</code>)</li> <li> Types are correct (<code>mypy fcube/</code>)</li> <li> Documentation is updated if needed</li> <li> Commit messages follow conventions</li> <li> PR description explains changes</li> </ul>"},{"location":"fcube/contributing/#need-help","title":"Need Help?","text":"<ul> <li>Questions: Open a GitHub Discussion</li> <li>Bugs: Open a GitHub Issue</li> <li>Features: Open an Issue first to discuss</li> </ul>"},{"location":"fcube/getting-started/","title":"Getting Started","text":"<p>Install FCube and create your first project.</p>"},{"location":"fcube/getting-started/#installation","title":"Installation","text":""},{"location":"fcube/getting-started/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.11+ \u2014 Check with <code>python --version</code></li> <li>pip \u2014 Usually included with Python</li> </ul>"},{"location":"fcube/getting-started/#install-from-pypi","title":"Install from PyPI","text":"<pre><code>pip install fcube\n</code></pre>"},{"location":"fcube/getting-started/#verify-installation","title":"Verify Installation","text":"<pre><code>fcube --version\n# FCube CLI v1.0.0\n</code></pre>"},{"location":"fcube/getting-started/#create-your-first-project","title":"Create Your First Project","text":""},{"location":"fcube/getting-started/#1-generate-project","title":"1. Generate Project","text":"<pre><code>fcube startproject myapp\n</code></pre> <p>This creates:</p> <pre><code>myapp/\n\u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 main.py              # FastAPI application\n\u2502   \u251c\u2500\u2500 apis/\n\u2502   \u2502   \u2514\u2500\u2500 v1.py            # API router (v1)\n\u2502   \u251c\u2500\u2500 core/\n\u2502   \u2502   \u251c\u2500\u2500 config.py        # Settings\n\u2502   \u2502   \u251c\u2500\u2500 database.py      # Database connection\n\u2502   \u2502   \u251c\u2500\u2500 dependencies.py  # DI container\n\u2502   \u2502   \u2514\u2500\u2500 security.py      # Auth utilities\n\u2502   \u251c\u2500\u2500 models/              # SQLAlchemy models\n\u2502   \u251c\u2500\u2500 schemas/             # Pydantic schemas\n\u2502   \u251c\u2500\u2500 services/            # Business logic\n\u2502   \u2514\u2500\u2500 crud/                # Database operations\n\u251c\u2500\u2500 alembic/                 # Database migrations\n\u251c\u2500\u2500 tests/                   # Test suite\n\u251c\u2500\u2500 requirements.txt\n\u251c\u2500\u2500 .env.example\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"fcube/getting-started/#2-set-up-environment","title":"2. Set Up Environment","text":"<pre><code>cd myapp\n\n# Create virtual environment\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# or: .\\venv\\Scripts\\activate  # Windows\n\n# Install dependencies\npip install -r requirements.txt\n</code></pre>"},{"location":"fcube/getting-started/#3-configure-database","title":"3. Configure Database","text":"<pre><code># Copy example env\ncp .env.example .env\n\n# Edit .env with your database URL\n# DATABASE_URL=postgresql://user:pass@localhost:5432/myapp\n</code></pre>"},{"location":"fcube/getting-started/#4-run-migrations","title":"4. Run Migrations","text":"<pre><code>alembic upgrade head\n</code></pre>"},{"location":"fcube/getting-started/#5-start-the-server","title":"5. Start the Server","text":"<pre><code>uvicorn app.main:app --reload\n</code></pre> <p>Open http://localhost:8000/docs \u2014 you'll see the Swagger UI!</p>"},{"location":"fcube/getting-started/#add-a-module","title":"Add a Module","text":"<p>Modules are feature-based groupings of your code.</p> <pre><code>fcube addmodule products\n</code></pre> <p>This generates:</p> <pre><code>app/\n\u251c\u2500\u2500 models/products.py       # SQLAlchemy model\n\u251c\u2500\u2500 schemas/products.py      # Pydantic schemas\n\u251c\u2500\u2500 crud/products.py         # CRUD operations\n\u251c\u2500\u2500 services/products.py     # Business logic\n\u2514\u2500\u2500 routes/products.py       # API endpoints\n</code></pre> <p>Routes are automatically registered in <code>app/apis/v1.py</code>.</p>"},{"location":"fcube/getting-started/#add-authentication","title":"Add Authentication","text":"<pre><code>fcube adduser --jwt\n</code></pre> <p>This adds:</p> <ul> <li>User model with password hashing</li> <li>JWT token authentication</li> <li>Login/register endpoints</li> <li>Role-based permissions</li> <li>Refresh token support</li> </ul>"},{"location":"fcube/getting-started/#using-auth","title":"Using Auth","text":"<pre><code>from app.core.dependencies import get_current_user\nfrom app.models.user import User\n\n@router.get(\"/me\")\nasync def get_profile(user: User = Depends(get_current_user)):\n    return user\n</code></pre>"},{"location":"fcube/getting-started/#add-a-plugin","title":"Add a Plugin","text":"<p>Plugins add pre-built features to your project.</p> <pre><code># See available plugins\nfcube plugins\n\n# Add a plugin\nfcube addplugin referral\n</code></pre> <p>Learn more in the Plugin System guide.</p>"},{"location":"fcube/getting-started/#project-configuration","title":"Project Configuration","text":""},{"location":"fcube/getting-started/#environment-variables","title":"Environment Variables","text":"<pre><code># .env\nDATABASE_URL=postgresql://user:pass@localhost:5432/myapp\nREDIS_URL=redis://localhost:6379/0\nSECRET_KEY=your-secret-key\nJWT_SECRET_KEY=your-jwt-secret\nJWT_ALGORITHM=HS256\nACCESS_TOKEN_EXPIRE_MINUTES=30\n</code></pre>"},{"location":"fcube/getting-started/#settings-management","title":"Settings Management","text":"<pre><code># app/core/config.py\nfrom pydantic_settings import BaseSettings\n\n\nclass Settings(BaseSettings):\n    database_url: str\n    redis_url: str = \"redis://localhost:6379/0\"\n    secret_key: str\n    jwt_secret_key: str\n    jwt_algorithm: str = \"HS256\"\n    access_token_expire_minutes: int = 30\n\n    class Config:\n        env_file = \".env\"\n\n\nsettings = Settings()\n</code></pre>"},{"location":"fcube/getting-started/#next-steps","title":"Next Steps","text":"<ol> <li>Learn the commands \u2014 See Commands Reference</li> <li>Understand the architecture \u2014 Read Generated Architecture</li> <li>Explore plugins \u2014 Check Plugin System</li> <li>Deploy your app \u2014 Use the <code>deploy-vps</code> plugin</li> </ol>"},{"location":"fcube/getting-started/#common-issues","title":"Common Issues","text":""},{"location":"fcube/getting-started/#cant-connect-to-database","title":"Can't connect to database","text":"<pre><code># Check PostgreSQL is running\npg_isready\n\n# Verify DATABASE_URL format\npostgresql://user:password@host:port/database\n</code></pre>"},{"location":"fcube/getting-started/#module-not-found-after-generation","title":"Module not found after generation","text":"<pre><code># Ensure you're in virtual environment\nsource venv/bin/activate\n\n# Reinstall in development mode\npip install -e .\n</code></pre>"},{"location":"fcube/getting-started/#migrations-fail","title":"Migrations fail","text":"<pre><code># Check alembic.ini has correct sqlalchemy.url\n# Or set env variable and run:\nalembic upgrade head\n</code></pre>"},{"location":"fcube/plugins/","title":"Plugin System","text":"<p>FCube's plugin system for extending projects with pre-built features.</p>"},{"location":"fcube/plugins/#overview","title":"Overview","text":"<p>Plugins are self-contained packages that add functionality to your FCube project. Each plugin includes:</p> <ul> <li>Models and schemas</li> <li>Services and CRUD operations</li> <li>Routes and dependencies</li> <li>Configuration templates</li> <li>Documentation</li> </ul>"},{"location":"fcube/plugins/#available-plugins","title":"Available Plugins","text":""},{"location":"fcube/plugins/#referral","title":"referral","text":"<p>Multi-tier referral system with configurable levels and rewards.</p> <pre><code>fcube addplugin referral\n</code></pre> <p>Features:</p> <ul> <li>Multi-level referral tracking</li> <li>Configurable reward tiers</li> <li>Milestone-based rewards</li> <li>Reward distribution strategies</li> <li>Complete API for referral management</li> </ul> <p>Generated files:</p> <pre><code>app/\n\u251c\u2500\u2500 models/referral/\n\u2502   \u251c\u2500\u2500 referral.py\n\u2502   \u251c\u2500\u2500 referral_level.py\n\u2502   \u251c\u2500\u2500 referral_reward.py\n\u2502   \u2514\u2500\u2500 referral_milestone.py\n\u251c\u2500\u2500 schemas/referral/\n\u251c\u2500\u2500 crud/referral/\n\u251c\u2500\u2500 services/referral/\n\u2514\u2500\u2500 routes/referral/\n</code></pre>"},{"location":"fcube/plugins/#deploy_vps","title":"deploy_vps","text":"<p>Complete VPS deployment with Docker, Nginx, SSL, and monitoring.</p> <pre><code>fcube addplugin deploy_vps\n</code></pre> <p>Features:</p> <ul> <li>Docker Compose configuration</li> <li>Nginx reverse proxy with SSL</li> <li>Let's Encrypt certificate management</li> <li>Redis + Celery setup</li> <li>Flower monitoring dashboard</li> <li>Environment-specific configs (production/staging)</li> <li>Backup and security scripts</li> </ul> <p>Generated structure:</p> <pre><code>deploy-vps/\n\u251c\u2500\u2500 config.env.example       # Configuration template\n\u251c\u2500\u2500 docker/\n\u2502   \u251c\u2500\u2500 docker-compose.production.yml\n\u2502   \u2514\u2500\u2500 docker-compose.staging.yml\n\u251c\u2500\u2500 nginx/\n\u2502   \u251c\u2500\u2500 nginx.conf\n\u2502   \u251c\u2500\u2500 api.conf\n\u2502   \u2514\u2500\u2500 flower.conf\n\u251c\u2500\u2500 redis/\n\u2502   \u2514\u2500\u2500 redis.conf\n\u251c\u2500\u2500 scripts/\n\u2502   \u251c\u2500\u2500 setup.sh            # Initial setup wizard\n\u2502   \u251c\u2500\u2500 deploy.sh           # Deployment commands\n\u2502   \u251c\u2500\u2500 ssl.sh              # SSL certificate management\n\u2502   \u251c\u2500\u2500 backup.sh           # Backup utilities\n\u2502   \u2514\u2500\u2500 security.sh         # Server hardening\n\u2514\u2500\u2500 README.md\n</code></pre>"},{"location":"fcube/plugins/#using-plugins","title":"Using Plugins","text":""},{"location":"fcube/plugins/#install-a-plugin","title":"Install a Plugin","text":"<pre><code># List available plugins\nfcube plugins\n\n# Install with default settings\nfcube addplugin &lt;plugin_name&gt;\n\n# Preview changes first\nfcube addplugin &lt;plugin_name&gt; --dry-run\n\n# Force overwrite existing files\nfcube addplugin &lt;plugin_name&gt; --force\n</code></pre>"},{"location":"fcube/plugins/#dry-run-mode","title":"Dry Run Mode","text":"<p>Preview what a plugin will do before installing:</p> <pre><code>fcube addplugin referral --dry-run\n</code></pre> <p>Output:</p> <pre><code>Dry Run: referral plugin\n\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\nWould create files:\n  \u2713 app/models/referral/referral.py\n  \u2713 app/models/referral/referral_level.py\n  \u2713 app/schemas/referral/referral.py\n  \u2713 app/services/referral/referral_service.py\n  \u2713 app/routes/referral/referral.py\n\nWould modify files:\n  ~ app/apis/v1.py (add router)\n  ~ app/core/alembic_models_import.py (add model imports)\n\nNo files will be changed (dry run mode)\n</code></pre>"},{"location":"fcube/plugins/#post-installation","title":"Post-Installation","text":"<p>After installing a plugin:</p> <ol> <li> <p>Run migrations to create database tables:    <pre><code>alembic revision --autogenerate -m \"add referral system\"\nalembic upgrade head\n</code></pre></p> </li> <li> <p>Configure plugin-specific settings in <code>.env</code></p> </li> <li> <p>Review the plugin's README for usage instructions</p> </li> </ol>"},{"location":"fcube/plugins/#creating-plugins","title":"Creating Plugins","text":""},{"location":"fcube/plugins/#plugin-structure","title":"Plugin Structure","text":"<pre><code>templates/plugins/&lt;plugin_name&gt;/\n\u251c\u2500\u2500 __init__.py              # Plugin metadata and installer\n\u251c\u2500\u2500 &lt;template_files&gt;.py      # Template generators\n\u2514\u2500\u2500 README.md                # Plugin documentation\n</code></pre>"},{"location":"fcube/plugins/#plugin-metadata","title":"Plugin Metadata","text":"<pre><code># __init__.py\nfrom dataclasses import dataclass, field\nfrom typing import Callable, List, Tuple\nfrom pathlib import Path\n\n\n@dataclass\nclass PluginMetadata:\n    name: str\n    description: str\n    version: str\n    dependencies: List[str]\n    files_generated: List[str]\n    config_required: bool\n    post_install_notes: str\n    installer: Callable[[Path], List[Tuple[Path, str]]]\n\n\ndef install_my_plugin(app_dir: Path) -&gt; List[Tuple[Path, str]]:\n    \"\"\"Install plugin files.\"\"\"\n    files: List[Tuple[Path, str]] = []\n\n    # Generate model\n    model_content = generate_model()\n    files.append((app_dir / \"models\" / \"my_module.py\", model_content))\n\n    # Generate schema\n    schema_content = generate_schema()\n    files.append((app_dir / \"schemas\" / \"my_module.py\", schema_content))\n\n    # ... more files\n\n    return files\n\n\nPLUGIN_METADATA = PluginMetadata(\n    name=\"my_plugin\",\n    description=\"Description of what this plugin does\",\n    version=\"1.0.0\",\n    dependencies=[],  # External pip packages needed\n    files_generated=[\n        \"app/models/my_module.py\",\n        \"app/schemas/my_module.py\",\n    ],\n    config_required=False,\n    post_install_notes=\"\"\"\nAfter installation:\n1. Run migrations\n2. Configure settings\n    \"\"\",\n    installer=install_my_plugin,\n)\n</code></pre>"},{"location":"fcube/plugins/#template-generators","title":"Template Generators","text":"<p>Templates are Python functions that return file content:</p> <pre><code># templates.py\ndef generate_model() -&gt; str:\n    return '''from datetime import datetime\nfrom uuid import UUID, uuid4\nfrom sqlalchemy import String, DateTime, func\nfrom sqlalchemy.orm import Mapped, mapped_column\n\nfrom app.core.database import Base\n\n\nclass MyModel(Base):\n    __tablename__ = \"my_models\"\n\n    id: Mapped[UUID] = mapped_column(primary_key=True, default=uuid4)\n    name: Mapped[str] = mapped_column(String(255))\n    created_at: Mapped[datetime] = mapped_column(\n        DateTime(timezone=True),\n        server_default=func.now()\n    )\n'''\n\n\ndef generate_schema() -&gt; str:\n    return '''from datetime import datetime\nfrom uuid import UUID\nfrom pydantic import BaseModel, Field\n\n\nclass MyModelBase(BaseModel):\n    name: str = Field(..., min_length=1, max_length=255)\n\n\nclass MyModelCreate(MyModelBase):\n    pass\n\n\nclass MyModelResponse(MyModelBase):\n    id: UUID\n    created_at: datetime\n\n    model_config = {\"from_attributes\": True}\n'''\n</code></pre>"},{"location":"fcube/plugins/#registering-plugins","title":"Registering Plugins","text":"<p>Add your plugin to the discovery function:</p> <pre><code># templates/plugins/__init__.py\ndef _discover_plugins() -&gt; None:\n    from .referral import PLUGIN_METADATA as referral_metadata\n    from .deploy_vps import PLUGIN_METADATA as deploy_vps_metadata\n    from .my_plugin import PLUGIN_METADATA as my_plugin_metadata  # Add this\n\n    register_plugin(referral_metadata)\n    register_plugin(deploy_vps_metadata)\n    register_plugin(my_plugin_metadata)  # And this\n</code></pre>"},{"location":"fcube/plugins/#plugin-guidelines","title":"Plugin Guidelines","text":""},{"location":"fcube/plugins/#do","title":"Do","text":"<ul> <li>Self-contained \u2014 Include all necessary files</li> <li>Well-documented \u2014 README with usage instructions</li> <li>Validated \u2014 Test with fresh FCube project</li> <li>Versioned \u2014 Follow semantic versioning</li> </ul>"},{"location":"fcube/plugins/#dont","title":"Don't","text":"<ul> <li>Modify core files \u2014 Except for router registration</li> <li>Hardcode values \u2014 Use configuration</li> <li>Break existing code \u2014 Check for conflicts</li> <li>Skip migrations \u2014 Always include model changes</li> </ul>"},{"location":"fcube/plugins/#contributing-plugins","title":"Contributing Plugins","text":"<p>See Contributing for guidelines on submitting new plugins to FCube.</p>"},{"location":"guides/","title":"Engineering Guides","text":"<p>Practical guides for day-to-day development.</p>"},{"location":"guides/#guides-overview","title":"Guides Overview","text":"<p>These guides document how we work as a team. They're not rules\u2014they're patterns that have worked for us.</p> <ul> <li> <p> Developer Onboarding</p> <p>Everything you need to get started as a new team member.</p> <p> Onboarding guide</p> </li> <li> <p> Git Workflow</p> <p>How we use Git: branching strategy, commits, and merges.</p> <p> Git workflow</p> </li> <li> <p> Code Review Process</p> <p>How we review code and give feedback.</p> <p> Code review</p> </li> </ul>"},{"location":"guides/#quick-links","title":"Quick Links","text":"Need to... Go to Set up your dev environment Onboarding \u2192 Environment Setup Create a feature branch Git Workflow \u2192 Branching Write a commit message Git Workflow \u2192 Commits Open a pull request Git Workflow \u2192 Pull Requests Review someone's code Code Review \u2192 Checklist Get your PR approved Code Review \u2192 Approval"},{"location":"guides/code-review/","title":"Code Review Process","text":"<p>How we review code and give feedback.</p>"},{"location":"guides/code-review/#philosophy","title":"Philosophy","text":"<p>Code review is about:</p> <ol> <li>Catching bugs before they reach production</li> <li>Sharing knowledge across the team</li> <li>Maintaining quality of the codebase</li> <li>Mentoring less experienced developers</li> </ol> <p>It's NOT about:</p> <ul> <li>\u274c Proving you're smarter</li> <li>\u274c Gatekeeping</li> <li>\u274c Nitpicking style preferences</li> <li>\u274c Blocking progress</li> </ul>"},{"location":"guides/code-review/#for-authors","title":"For Authors","text":""},{"location":"guides/code-review/#before-requesting-review","title":"Before Requesting Review","text":"<ul> <li> Self-review your changes</li> <li> All tests pass locally</li> <li> CI is green</li> <li> PR description is complete</li> <li> PR is a reasonable size (&lt; 400 lines ideally)</li> </ul>"},{"location":"guides/code-review/#self-review-checklist","title":"Self-Review Checklist","text":"<p>Ask yourself:</p> <ol> <li>Would I understand this code in 6 months?</li> <li>Are there any obvious bugs?</li> <li>Did I remove debug code?</li> <li>Are error cases handled?</li> <li>Is the naming clear?</li> </ol>"},{"location":"guides/code-review/#responding-to-feedback","title":"Responding to Feedback","text":"Do Don't Thank reviewers for feedback Get defensive Ask clarifying questions Ignore comments Explain your reasoning Take it personally Make requested changes promptly Let PR go stale <p>If you disagree:</p> <ol> <li>Explain your reasoning</li> <li>Suggest alternatives</li> <li>Seek consensus</li> <li>If stuck, escalate to tech lead</li> </ol>"},{"location":"guides/code-review/#for-reviewers","title":"For Reviewers","text":""},{"location":"guides/code-review/#review-mindset","title":"Review Mindset","text":"<ul> <li>Assume the author did their best</li> <li>Be constructive, not critical</li> <li>Focus on what matters</li> <li>Offer suggestions, not mandates</li> </ul>"},{"location":"guides/code-review/#review-checklist","title":"Review Checklist","text":""},{"location":"guides/code-review/#correctness","title":"Correctness","text":"<ul> <li> Does the code do what it's supposed to?</li> <li> Are edge cases handled?</li> <li> Is error handling appropriate?</li> <li> Are there any obvious bugs?</li> </ul>"},{"location":"guides/code-review/#design","title":"Design","text":"<ul> <li> Does this follow our architecture?</li> <li> Is the abstraction level appropriate?</li> <li> Are there simpler alternatives?</li> <li> Is the code in the right place?</li> </ul>"},{"location":"guides/code-review/#maintainability","title":"Maintainability","text":"<ul> <li> Is the code readable?</li> <li> Are names clear and descriptive?</li> <li> Is there appropriate documentation?</li> <li> Will this be easy to modify later?</li> </ul>"},{"location":"guides/code-review/#testing","title":"Testing","text":"<ul> <li> Are there tests for new functionality?</li> <li> Do tests cover edge cases?</li> <li> Are tests meaningful (not just for coverage)?</li> </ul>"},{"location":"guides/code-review/#security","title":"Security","text":"<ul> <li> Is input validated?</li> <li> Are there any injection vulnerabilities?</li> <li> Are secrets handled correctly?</li> <li> Are permissions checked?</li> </ul>"},{"location":"guides/code-review/#giving-feedback","title":"Giving Feedback","text":""},{"location":"guides/code-review/#comment-types","title":"Comment Types","text":"<p>Use prefixes to clarify intent:</p> Prefix Meaning <code>nit:</code> Minor issue, non-blocking <code>suggestion:</code> Consider this approach <code>question:</code> I don't understand this <code>issue:</code> This needs to change <code>praise:</code> This is great!"},{"location":"guides/code-review/#examples","title":"Examples","text":"<pre><code>&lt;!-- Good feedback --&gt;\nnit: Consider renaming `data` to `user_response` for clarity.\n\nsuggestion: You could use `itertools.groupby` here to simplify \nthis loop. Here's an example: ...\n\nquestion: Why are we catching all exceptions here instead of \nspecific ones?\n\nissue: This SQL query is vulnerable to injection. Use \nparameterized queries instead.\n\npraise: Great job on the test coverage here! The edge cases \nare well thought out.\n</code></pre> <pre><code>&lt;!-- Bad feedback --&gt;\n\"This is wrong.\"\n\n\"You should know better.\"\n\n\"Why didn't you just do X?\"\n\n(No comments, just approved)\n</code></pre>"},{"location":"guides/code-review/#feedback-dos-and-donts","title":"Feedback Dos and Don'ts","text":"Do Don't \"Consider using X because Y\" \"This is wrong, use X\" \"I found this confusing, maybe add a comment?\" \"This is confusing\" \"What do you think about X approach?\" \"You should do X\" Ask questions to understand Assume malice"},{"location":"guides/code-review/#getting-approval","title":"Getting Approval","text":""},{"location":"guides/code-review/#approval-requirements","title":"Approval Requirements","text":"Change Type Required Approvals Bug fix 1 Feature 1-2 Architecture change 2 + tech lead Security-related 2 + security review"},{"location":"guides/code-review/#when-to-approve","title":"When to Approve","text":"<p>\u2705 Approve when:</p> <ul> <li>Logic is correct</li> <li>Tests are adequate</li> <li>Code is maintainable</li> <li>No security issues</li> </ul>"},{"location":"guides/code-review/#when-to-request-changes","title":"When to Request Changes","text":"<p>\u274c Request changes when:</p> <ul> <li>There are bugs</li> <li>Tests are missing for new functionality</li> <li>There are security vulnerabilities</li> <li>The approach is fundamentally flawed</li> </ul>"},{"location":"guides/code-review/#when-to-comment-not-block","title":"When to Comment (not block)","text":"<p>\ud83d\udcac Comment only when:</p> <ul> <li>Minor style issues</li> <li>Suggestions for improvement</li> <li>Questions that aren't blocking</li> </ul>"},{"location":"guides/code-review/#review-timeline","title":"Review Timeline","text":"Metric Target First response &lt; 4 hours Complete review &lt; 24 hours Re-review after changes &lt; 4 hours <p>Tips for faster reviews:</p> <ul> <li>Keep PRs small</li> <li>Write clear descriptions</li> <li>Tag the right reviewers</li> <li>Review others' PRs promptly (karma!)</li> </ul>"},{"location":"guides/code-review/#resolving-disagreements","title":"Resolving Disagreements","text":""},{"location":"guides/code-review/#escalation-path","title":"Escalation Path","text":"<ol> <li>Discuss in PR comments \u2014 Explain perspectives</li> <li>Move to synchronous conversation \u2014 Slack/call</li> <li>Bring in third opinion \u2014 Another team member</li> <li>Escalate to tech lead \u2014 For final decision</li> </ol>"},{"location":"guides/code-review/#decision-guidelines","title":"Decision Guidelines","text":"<p>Consider:</p> <ul> <li>Project consistency</li> <li>Long-term maintenance</li> <li>Team conventions</li> <li>Performance implications</li> </ul> <p>When in doubt, document the decision for future reference.</p>"},{"location":"guides/code-review/#special-cases","title":"Special Cases","text":""},{"location":"guides/code-review/#large-prs","title":"Large PRs","text":"<p>If a PR is too large:</p> <ol> <li>Ask if it can be split</li> <li>Review in logical chunks</li> <li>Schedule dedicated review time</li> <li>Consider pair review</li> </ol>"},{"location":"guides/code-review/#urgent-fixes","title":"Urgent Fixes","text":"<p>For hotfixes:</p> <ol> <li>Expedite review (ping in Slack)</li> <li>Focus on correctness only</li> <li>Create follow-up issues for improvements</li> <li>Post-incident, do thorough review</li> </ol>"},{"location":"guides/code-review/#junior-developer-prs","title":"Junior Developer PRs","text":"<ul> <li>Be more detailed in feedback</li> <li>Explain the \"why\" not just the \"what\"</li> <li>Acknowledge what's done well</li> <li>Offer to pair on complex changes</li> </ul>"},{"location":"guides/code-review/#tools","title":"Tools","text":""},{"location":"guides/code-review/#github-features","title":"GitHub Features","text":"<ul> <li>Suggested changes: Propose exact code changes</li> <li>Review comment threads: Keep discussions organized</li> <li>Request changes: Block merge until addressed</li> <li>Approve: Give the green light</li> </ul>"},{"location":"guides/code-review/#automated-checks","title":"Automated Checks","text":"<p>These should pass before human review:</p> <ul> <li> Tests</li> <li> Linting (ruff, eslint)</li> <li> Formatting (black, prettier)</li> <li> Type checking (mypy, tsc)</li> <li> Security scan</li> </ul>"},{"location":"guides/git-workflow/","title":"Git Workflow","text":"<p>How we use Git for version control.</p>"},{"location":"guides/git-workflow/#overview","title":"Overview","text":"<p>We use a simplified Git workflow based on GitHub Flow:</p> <pre><code>main \u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u25b6\n          \u2502     \u25b2     \u2502     \u25b2\n          \u2502     \u2502     \u2502     \u2502\nfeature \u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u2518     \u2502     \u2502\n                      \u2502     \u2502\nbugfix \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25cf\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <ul> <li><code>main</code> is always deployable</li> <li>All work happens in feature branches</li> <li>Changes get in via Pull Requests</li> <li>PRs require review before merge</li> </ul>"},{"location":"guides/git-workflow/#branching-strategy","title":"Branching Strategy","text":""},{"location":"guides/git-workflow/#branch-naming","title":"Branch Naming","text":"<pre><code>&lt;type&gt;/&lt;short-description&gt;\n</code></pre> Type Use For <code>feature/</code> New features <code>bugfix/</code> Bug fixes <code>hotfix/</code> Urgent production fixes <code>refactor/</code> Code refactoring <code>docs/</code> Documentation changes <p>Examples:</p> <pre><code>feature/user-authentication\nbugfix/order-calculation-error\nhotfix/security-vulnerability\nrefactor/payment-service\ndocs/api-documentation\n</code></pre>"},{"location":"guides/git-workflow/#creating-a-branch","title":"Creating a Branch","text":"<pre><code># Update main first\ngit checkout main\ngit pull origin main\n\n# Create feature branch\ngit checkout -b feature/my-feature\n</code></pre>"},{"location":"guides/git-workflow/#branch-lifetime","title":"Branch Lifetime","text":"<ul> <li>Maximum: 1 week</li> <li>Ideal: 1-3 days</li> </ul> <p>Long-lived branches = merge conflicts. Keep branches short.</p>"},{"location":"guides/git-workflow/#commit-messages","title":"Commit Messages","text":"<p>We follow Conventional Commits.</p>"},{"location":"guides/git-workflow/#format","title":"Format","text":"<pre><code>&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;\n\n&lt;body&gt;\n\n&lt;footer&gt;\n</code></pre>"},{"location":"guides/git-workflow/#types","title":"Types","text":"Type Description <code>feat</code> New feature <code>fix</code> Bug fix <code>docs</code> Documentation only <code>style</code> Formatting, no logic change <code>refactor</code> Restructuring code <code>test</code> Adding tests <code>chore</code> Maintenance tasks <code>perf</code> Performance improvement"},{"location":"guides/git-workflow/#rules","title":"Rules","text":"<ol> <li>Subject line: Max 50 characters</li> <li>Body: Wrap at 72 characters</li> <li>Imperative mood: \"Add feature\" not \"Added feature\"</li> <li>No period at end of subject</li> </ol>"},{"location":"guides/git-workflow/#examples","title":"Examples","text":"<pre><code># Simple change\ngit commit -m \"feat(auth): add password reset endpoint\"\n\n# With body\ngit commit -m \"fix(orders): correct total calculation\n\nThe discount was being applied before tax instead of after.\nThis caused orders to have incorrect totals when both\ndiscount and tax were present.\n\nFixes #123\"\n</code></pre>"},{"location":"guides/git-workflow/#bad-examples","title":"Bad Examples","text":"<pre><code># \u274c Too vague\ngit commit -m \"fix stuff\"\n\n# \u274c No type\ngit commit -m \"added new feature\"\n\n# \u274c Past tense\ngit commit -m \"feat: added login page\"\n\n# \u274c Too long\ngit commit -m \"feat(auth): add the ability for users to reset their passwords via email link\"\n</code></pre>"},{"location":"guides/git-workflow/#pull-requests","title":"Pull Requests","text":""},{"location":"guides/git-workflow/#before-opening-a-pr","title":"Before Opening a PR","text":"<pre><code># Rebase on latest main\ngit fetch origin\ngit rebase origin/main\n\n# Run tests\npytest\n\n# Check formatting\nblack --check .\nruff check .\n</code></pre>"},{"location":"guides/git-workflow/#pr-title","title":"PR Title","text":"<p>Same format as commit messages:</p> <pre><code>feat(auth): add OAuth2 login support\n</code></pre>"},{"location":"guides/git-workflow/#pr-description-template","title":"PR Description Template","text":"<pre><code>## What\n\nBrief description of what this PR does.\n\n## Why\n\nWhy is this change needed? Link to issue if applicable.\n\n## How\n\nTechnical approach taken.\n\n## Testing\n\n- [ ] Unit tests added\n- [ ] Manual testing done\n- [ ] Edge cases considered\n\n## Screenshots\n\n(If UI changes)\n</code></pre>"},{"location":"guides/git-workflow/#pr-size","title":"PR Size","text":"Lines Changed Rating 0-100 \u2705 Great 100-300 \u2705 Good 300-500 \u26a0\ufe0f Large 500+ \u274c Too big <p>Large PRs are hard to review. Break them up when possible.</p>"},{"location":"guides/git-workflow/#getting-reviews","title":"Getting Reviews","text":"<ol> <li>Assign 1-2 reviewers</li> <li>Add relevant labels</li> <li>Link related issues</li> <li>Self-review first (catch obvious issues)</li> </ol>"},{"location":"guides/git-workflow/#merging","title":"Merging","text":""},{"location":"guides/git-workflow/#merge-strategy","title":"Merge Strategy","text":"<p>We use Squash and Merge:</p> <ul> <li>Multiple commits become one</li> <li>Cleaner main branch history</li> <li>Easier to revert if needed</li> </ul>"},{"location":"guides/git-workflow/#before-merging","title":"Before Merging","text":"<ul> <li> All CI checks pass</li> <li> At least 1 approval</li> <li> No unresolved comments</li> <li> Branch is up-to-date with main</li> </ul>"},{"location":"guides/git-workflow/#after-merging","title":"After Merging","text":"<pre><code># Delete local branch\ngit branch -d feature/my-feature\n\n# Prune remote tracking\ngit fetch --prune\n</code></pre>"},{"location":"guides/git-workflow/#handling-conflicts","title":"Handling Conflicts","text":""},{"location":"guides/git-workflow/#prevention","title":"Prevention","text":"<ul> <li>Keep branches short-lived</li> <li>Pull main frequently</li> <li>Communicate with team about shared files</li> </ul>"},{"location":"guides/git-workflow/#resolution","title":"Resolution","text":"<pre><code># Update your branch\ngit fetch origin\ngit rebase origin/main\n\n# If conflicts:\n# 1. Fix conflicts in each file\n# 2. Stage fixed files\ngit add &lt;file&gt;\n\n# 3. Continue rebase\ngit rebase --continue\n\n# 4. Force push (your branch only!)\ngit push --force-with-lease\n</code></pre> <p>\u26a0\ufe0f Never force push to <code>main</code></p>"},{"location":"guides/git-workflow/#hotfixes","title":"Hotfixes","text":"<p>For urgent production issues:</p> <pre><code># Create hotfix branch from main\ngit checkout main\ngit pull\ngit checkout -b hotfix/critical-bug\n\n# Make fix\n# ...\n\n# Open PR with [HOTFIX] prefix\n# Get expedited review\n# Merge to main\n# Deploy immediately\n</code></pre>"},{"location":"guides/git-workflow/#best-practices","title":"Best Practices","text":""},{"location":"guides/git-workflow/#do","title":"Do","text":"<ul> <li>\u2705 Commit early and often</li> <li>\u2705 Write meaningful commit messages</li> <li>\u2705 Keep PRs focused and small</li> <li>\u2705 Rebase before opening PR</li> <li>\u2705 Respond to review comments promptly</li> </ul>"},{"location":"guides/git-workflow/#dont","title":"Don't","text":"<ul> <li>\u274c Commit directly to main</li> <li>\u274c Use <code>git push --force</code> on shared branches</li> <li>\u274c Leave PRs open for weeks</li> <li>\u274c Ignore failing CI checks</li> <li>\u274c Merge your own PR without review</li> </ul>"},{"location":"guides/git-workflow/#useful-commands","title":"Useful Commands","text":"<pre><code># See branch history\ngit log --oneline --graph -20\n\n# See what's changed\ngit diff main...HEAD\n\n# Undo last commit (keep changes)\ngit reset --soft HEAD~1\n\n# Stash changes temporarily\ngit stash\ngit stash pop\n\n# Interactive rebase (cleanup commits)\ngit rebase -i HEAD~3\n\n# Find which commit broke something\ngit bisect start\ngit bisect bad\ngit bisect good &lt;commit&gt;\n</code></pre>"},{"location":"guides/onboarding/","title":"Developer Onboarding","text":"<p>Welcome to the team! Here's everything you need to get productive.</p>"},{"location":"guides/onboarding/#week-1-goals","title":"Week 1 Goals","text":"<p>By the end of your first week, you should:</p> <ul> <li> Have your development environment set up</li> <li> Be able to run the application locally</li> <li> Understand the project structure</li> <li> Make your first commit</li> <li> Know who to ask for help</li> </ul>"},{"location":"guides/onboarding/#environment-setup","title":"Environment Setup","text":""},{"location":"guides/onboarding/#1-required-tools","title":"1. Required Tools","text":"<p>Install these tools:</p> Tool Version Purpose Python 3.11+ Backend runtime Node.js 20+ Frontend runtime Docker 24+ Containerization PostgreSQL 15+ Database Redis 7+ Cache/Queue Git 2.40+ Version control"},{"location":"guides/onboarding/#2-clone-repositories","title":"2. Clone Repositories","text":"<pre><code># Backend\ngit clone git@github.com:hybridinteract/project-backend.git\ncd project-backend\n\n# Frontend (in separate terminal)\ngit clone git@github.com:hybridinteract/project-frontend.git\ncd project-frontend\n</code></pre>"},{"location":"guides/onboarding/#3-backend-setup","title":"3. Backend Setup","text":"<pre><code>cd project-backend\n\n# Create virtual environment\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# .\\venv\\Scripts\\activate  # Windows\n\n# Install dependencies\npip install -r requirements.txt\npip install -r requirements-dev.txt\n\n# Copy environment file\ncp .env.example .env\n# Edit .env with your local settings\n\n# Run database migrations\nalembic upgrade head\n\n# Start the server\nuvicorn app.main:app --reload\n</code></pre>"},{"location":"guides/onboarding/#4-frontend-setup","title":"4. Frontend Setup","text":"<pre><code>cd project-frontend\n\n# Install dependencies\nnpm install\n\n# Copy environment file\ncp .env.example .env.local\n# Edit as needed\n\n# Start dev server\nnpm run dev\n</code></pre>"},{"location":"guides/onboarding/#5-verify-setup","title":"5. Verify Setup","text":"<ul> <li>Backend: http://localhost:8000/docs</li> <li>Frontend: http://localhost:3000</li> </ul>"},{"location":"guides/onboarding/#ide-setup","title":"IDE Setup","text":""},{"location":"guides/onboarding/#vs-code-recommended","title":"VS Code (Recommended)","text":"<p>Install these extensions:</p> Extension Purpose Python Python support Pylance Type checking Black Formatter Code formatting ESLint JS/TS linting Prettier JS/TS formatting GitLens Git integration <p>Workspace Settings (<code>.vscode/settings.json</code>):</p> <pre><code>{\n  \"editor.formatOnSave\": true,\n  \"python.defaultInterpreterPath\": \"./venv/bin/python\",\n  \"[python]\": {\n    \"editor.defaultFormatter\": \"ms-python.black-formatter\"\n  },\n  \"[typescript]\": {\n    \"editor.defaultFormatter\": \"esbenp.prettier-vscode\"\n  }\n}\n</code></pre>"},{"location":"guides/onboarding/#pycharm","title":"PyCharm","text":"<ol> <li>Open project directory</li> <li>Configure Python interpreter (select venv)</li> <li>Enable Black formatter (Settings \u2192 Tools \u2192 Black)</li> <li>Configure pytest as test runner</li> </ol>"},{"location":"guides/onboarding/#project-overview","title":"Project Overview","text":""},{"location":"guides/onboarding/#architecture","title":"Architecture","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510     \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502    Frontend     \u2502\u2500\u2500\u2500\u2500\u25b6\u2502     Backend     \u2502\n\u2502   (Next.js)     \u2502     \u2502   (FastAPI)     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                 \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502            \u2502            \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510\n              \u2502PostgreSQL\u2502 \u2502  Redis   \u2502 \u2502  Celery  \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"guides/onboarding/#key-directories","title":"Key Directories","text":"Directory Contains <code>app/models/</code> Database models <code>app/schemas/</code> API schemas (Pydantic) <code>app/services/</code> Business logic <code>app/routes/</code> API endpoints <code>app/core/</code> Configuration, database, auth"},{"location":"guides/onboarding/#making-your-first-commit","title":"Making Your First Commit","text":""},{"location":"guides/onboarding/#1-pick-a-starter-task","title":"1. Pick a Starter Task","text":"<p>Your manager will assign you a small task tagged as <code>good-first-issue</code>.</p>"},{"location":"guides/onboarding/#2-create-a-branch","title":"2. Create a Branch","text":"<pre><code>git checkout -b feature/your-task-name\n</code></pre>"},{"location":"guides/onboarding/#3-make-changes","title":"3. Make Changes","text":"<p>Write code following our Best Practices.</p>"},{"location":"guides/onboarding/#4-test-locally","title":"4. Test Locally","text":"<pre><code># Run tests\npytest\n\n# Check linting\nruff check .\nblack --check .\n</code></pre>"},{"location":"guides/onboarding/#5-commit-and-push","title":"5. Commit and Push","text":"<pre><code>git add .\ngit commit -m \"feat(module): description of change\"\ngit push origin feature/your-task-name\n</code></pre>"},{"location":"guides/onboarding/#6-open-a-pull-request","title":"6. Open a Pull Request","text":"<p>Go to GitHub and open a PR. See Git Workflow for details.</p>"},{"location":"guides/onboarding/#getting-help","title":"Getting Help","text":"Question Type Where to Ask Code question Ask your buddy (assigned mentor) Architecture question #engineering Slack channel Stuck on a bug Create a minimal repro, ask in #help Infrastructure issue #devops Slack channel"},{"location":"guides/onboarding/#pair-programming","title":"Pair Programming","text":"<p>Don't struggle alone! Schedule a pairing session:</p> <ul> <li>For learning: Pair with your buddy</li> <li>For tough bugs: Pair with senior engineer</li> <li>For design decisions: Pair with tech lead</li> </ul>"},{"location":"guides/onboarding/#key-resources","title":"Key Resources","text":"Resource Location API Documentation localhost:8000/docs Design System [Figma Link] Architecture Docs This site Internal Wiki [Notion Link] Sprint Board [Jira/Linear Link]"},{"location":"guides/onboarding/#checklist","title":"Checklist","text":""},{"location":"guides/onboarding/#day-1","title":"Day 1","text":"<ul> <li> Accounts created (GitHub, Slack, Jira)</li> <li> Repositories cloned</li> <li> Meet your buddy</li> </ul>"},{"location":"guides/onboarding/#day-2-3","title":"Day 2-3","text":"<ul> <li> Environment fully set up</li> <li> Can run backend and frontend</li> <li> Read through project README</li> </ul>"},{"location":"guides/onboarding/#day-4-5","title":"Day 4-5","text":"<ul> <li> First task assigned</li> <li> First PR opened</li> <li> First PR merged! \ud83c\udf89</li> </ul>"},{"location":"guides/onboarding/#faq","title":"FAQ","text":"<p>Q: I can't connect to the database</p> <p>Check that PostgreSQL is running and your <code>DATABASE_URL</code> in <code>.env</code> is correct.</p> <p>Q: Tests are failing but I didn't change anything</p> <p>Pull latest <code>main</code> and re-run migrations: <pre><code>git checkout main\ngit pull\nalembic upgrade head\n</code></pre></p> <p>Q: How do I get my PR reviewed faster?</p> <p>Keep PRs small (&lt; 400 lines), write a clear description, and tag reviewers.</p>"},{"location":"principles/","title":"Engineering Principles","text":"<p>Our engineering philosophy guides every decision we make. These principles aren't just ideals\u2014they're practical guidelines that shape how we build software.</p>"},{"location":"principles/#core-values","title":"Core Values","text":""},{"location":"principles/#simplicity-first","title":"Simplicity First","text":"<p>We believe the best code is code that doesn't exist. Every feature, every abstraction, every line must justify its existence. When in doubt, leave it out.</p> <p>\"Perfection is achieved, not when there is nothing more to add, but when there is nothing left to take away.\" \u2014 Antoine de Saint-Exup\u00e9ry</p>"},{"location":"principles/#reliability-over-features","title":"Reliability Over Features","text":"<p>A system that works reliably with 10 features is better than one that crashes with 100. We ship fewer things that work perfectly rather than many things that work sometimes.</p>"},{"location":"principles/#maintainability-is-non-negotiable","title":"Maintainability is Non-Negotiable","text":"<p>Code is read far more often than it's written. We optimize for the engineer who will maintain this code in 2 years\u2014who might be us, or might be someone we've never met.</p>"},{"location":"principles/#the-three-questions","title":"The Three Questions","text":"<p>Before every technical decision, we ask:</p> <ol> <li> <p>Does this solve a real problem? Not a hypothetical problem, not a \"what if\" scenario\u2014a real problem that real users have right now.</p> </li> <li> <p>Is this the simplest solution? Not the cleverest, not the most elegant, not the most interesting\u2014the simplest solution that works.</p> </li> <li> <p>Will this age well? Technologies change. Will this decision still make sense in 2 years? In 5?</p> </li> </ol>"},{"location":"principles/#in-practice","title":"In Practice","text":"<ul> <li> <p> Architecture Decisions</p> <p>How we approach system design, patterns we follow, and when to use what.</p> <p> Read more</p> </li> <li> <p> Code Quality Standards</p> <p>Our expectations for code quality, testing, and documentation.</p> <p> Read more</p> </li> <li> <p> Best Practices</p> <p>Day-to-day development practices that keep our codebase healthy.</p> <p> Read more</p> </li> </ul>"},{"location":"principles/architecture/","title":"Architecture Decisions","text":"<p>How we think about system design and the patterns we follow.</p>"},{"location":"principles/architecture/#the-modular-monolith","title":"The Modular Monolith","text":"<p>We build modular monoliths, not microservices. Here's why:</p>"},{"location":"principles/architecture/#what-is-a-modular-monolith","title":"What is a Modular Monolith?","text":"<p>A modular monolith is a single deployable application with well-defined internal boundaries. Each module:</p> <ul> <li>Has clear responsibilities</li> <li>Communicates through defined interfaces</li> <li>Can be extracted to a service if needed (but rarely is)</li> </ul> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                 Application                      \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502   Users     \u2502   Orders    \u2502     Products        \u2502\n\u2502   Module    \u2502   Module    \u2502     Module          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Shared Infrastructure              \u2502\n\u2502         (Database, Cache, Message Queue)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"principles/architecture/#why-not-microservices","title":"Why Not Microservices?","text":"<p>Microservices solve organizational problems, not technical ones. They're valuable when:</p> <ul> <li>Multiple teams need to deploy independently</li> <li>Different parts of the system have vastly different scaling needs</li> <li>You need polyglot persistence</li> </ul> <p>For most applications, microservices add complexity without corresponding benefits:</p> Aspect Monolith Microservices Deployment Simple Complex orchestration Debugging Stack trace Distributed tracing Transactions ACID Eventual consistency Latency In-process calls Network hops Team size needed Small Large <p>Our rule: Start with a modular monolith. Extract services only when you have a compelling reason.</p>"},{"location":"principles/architecture/#clean-architecture","title":"Clean Architecture","text":"<p>We follow Clean Architecture principles to keep our code maintainable:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            External Systems            \u2502\n\u2502  (HTTP, Database, Queue, File System)  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Adapters                  \u2502\n\u2502  (Controllers, Repositories, Gateway)  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502            Application                 \u2502\n\u2502       (Use Cases, Services)            \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502              Domain                    \u2502\n\u2502    (Entities, Value Objects, Rules)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"principles/architecture/#key-principles","title":"Key Principles","text":"<ol> <li> <p>Dependencies point inward \u2014 Outer layers depend on inner layers, never the reverse.</p> </li> <li> <p>Domain is framework-agnostic \u2014 The core business logic doesn't know about FastAPI, SQLAlchemy, or any external framework.</p> </li> <li> <p>Interfaces define boundaries \u2014 We use protocols/interfaces to define how layers communicate.</p> </li> </ol>"},{"location":"principles/architecture/#dependency-injection","title":"Dependency Injection","text":"<p>We use dependency injection everywhere. Global state is forbidden.</p>"},{"location":"principles/architecture/#why-di-matters","title":"Why DI Matters","text":"<pre><code># \u274c Bad: Hidden dependencies, hard to test\nclass OrderService:\n    def create_order(self, data):\n        db = get_database()  # Where does this come from?\n        user = get_current_user()  # Global state\n        return db.orders.create(data)\n\n# \u2705 Good: Explicit dependencies, easy to test\nclass OrderService:\n    def __init__(self, db: Database, user_service: UserService):\n        self.db = db\n        self.user_service = user_service\n\n    def create_order(self, data, user_id: UUID):\n        user = self.user_service.get(user_id)\n        return self.db.orders.create(data)\n</code></pre>"},{"location":"principles/architecture/#benefits","title":"Benefits","text":"<ul> <li>Testability \u2014 Mock dependencies easily in tests</li> <li>Clarity \u2014 All dependencies are visible in the constructor</li> <li>Flexibility \u2014 Swap implementations without changing code</li> </ul>"},{"location":"principles/architecture/#when-to-use-what","title":"When to Use What","text":"Pattern Use When Avoid When Modular Monolith Single team, standard scaling Multiple teams, wildly different scaling needs Microservices Organization requires it You're trying to solve technical problems Event-Driven Loose coupling needed, async is OK Synchronous response required CQRS Different read/write patterns Simple CRUD operations Domain Events Cross-module communication Simple in-module operations"},{"location":"principles/architecture/#architecture-decision-records-adrs","title":"Architecture Decision Records (ADRs)","text":"<p>For significant decisions, we write ADRs documenting:</p> <ol> <li>Context \u2014 What's the situation?</li> <li>Decision \u2014 What did we decide?</li> <li>Consequences \u2014 What are the trade-offs?</li> </ol> <p>This creates a historical record of why our system is shaped the way it is.</p>"},{"location":"principles/best-practices/","title":"Best Practices","text":"<p>Day-to-day development practices that keep our codebase healthy.</p>"},{"location":"principles/best-practices/#error-handling","title":"Error Handling","text":""},{"location":"principles/best-practices/#be-specific","title":"Be Specific","text":"<pre><code># \u274c Bad: Catching everything\ntry:\n    result = process_payment(order)\nexcept Exception:\n    return {\"error\": \"Something went wrong\"}\n\n# \u2705 Good: Handle specific errors\ntry:\n    result = process_payment(order)\nexcept InsufficientFundsError:\n    return {\"error\": \"Insufficient balance\", \"code\": \"INSUFFICIENT_FUNDS\"}\nexcept PaymentGatewayError as e:\n    logger.error(\"Payment gateway failed\", exc_info=e)\n    return {\"error\": \"Payment processing unavailable\", \"code\": \"GATEWAY_ERROR\"}\n</code></pre>"},{"location":"principles/best-practices/#fail-fast","title":"Fail Fast","text":"<p>Validate inputs early and fail immediately:</p> <pre><code>def create_user(email: str, age: int) -&gt; User:\n    # Validate first\n    if not is_valid_email(email):\n        raise InvalidEmailError(email)\n    if age &lt; 0 or age &gt; 150:\n        raise InvalidAgeError(age)\n\n    # Then proceed\n    return User(email=email, age=age)\n</code></pre>"},{"location":"principles/best-practices/#log-appropriately","title":"Log Appropriately","text":"Level Use For <code>DEBUG</code> Detailed diagnostic info <code>INFO</code> General operational events <code>WARNING</code> Unexpected but handled situations <code>ERROR</code> Failures that need attention <code>CRITICAL</code> System is unusable <pre><code># Include context in logs\nlogger.info(\n    \"Order created\",\n    extra={\n        \"order_id\": order.id,\n        \"user_id\": user.id,\n        \"total\": order.total,\n    }\n)\n</code></pre>"},{"location":"principles/best-practices/#security","title":"Security","text":""},{"location":"principles/best-practices/#never-trust-input","title":"Never Trust Input","text":"<p>All user input is potentially malicious. Always:</p> <ul> <li>Validate type and format</li> <li>Sanitize before storage</li> <li>Escape before display</li> <li>Use parameterized queries</li> </ul> <pre><code># \u274c Vulnerable to SQL injection\nquery = f\"SELECT * FROM users WHERE id = '{user_id}'\"\n\n# \u2705 Safe: Parameterized query\nquery = \"SELECT * FROM users WHERE id = :id\"\nresult = db.execute(query, {\"id\": user_id})\n</code></pre>"},{"location":"principles/best-practices/#secrets-management","title":"Secrets Management","text":"<ul> <li>Never commit secrets to version control</li> <li>Use environment variables for configuration</li> <li>Rotate secrets regularly</li> <li>Use different secrets per environment</li> </ul> <pre><code># \u274c Bad: Hardcoded secret\nAPI_KEY = \"sk_live_abc123\"\n\n# \u2705 Good: From environment\nAPI_KEY = os.environ[\"STRIPE_API_KEY\"]\n</code></pre>"},{"location":"principles/best-practices/#authentication-authorization","title":"Authentication &amp; Authorization","text":"<ul> <li>Use established libraries (don't roll your own crypto)</li> <li>Implement rate limiting on auth endpoints</li> <li>Use secure session management</li> <li>Always validate permissions server-side</li> </ul>"},{"location":"principles/best-practices/#performance","title":"Performance","text":""},{"location":"principles/best-practices/#database","title":"Database","text":"<ol> <li>Index appropriately \u2014 Every query should use an index</li> <li>Avoid N+1 \u2014 Use eager loading for related data</li> <li>Paginate everything \u2014 Never return unbounded results</li> <li>Use connection pooling \u2014 Don't create connections per request</li> </ol> <pre><code># \u274c N+1 problem\nusers = db.query(User).all()\nfor user in users:\n    print(user.orders)  # Separate query for each user!\n\n# \u2705 Eager loading\nusers = db.query(User).options(joinedload(User.orders)).all()\nfor user in users:\n    print(user.orders)  # Already loaded\n</code></pre>"},{"location":"principles/best-practices/#caching","title":"Caching","text":"<ul> <li>Cache expensive computations</li> <li>Cache external API responses</li> <li>Use appropriate TTLs</li> <li>Invalidate on updates</li> </ul> <pre><code>@cache(ttl=300)  # 5 minutes\ndef get_product_recommendations(user_id: UUID) -&gt; list[Product]:\n    # Expensive computation\n    return recommendations\n</code></pre>"},{"location":"principles/best-practices/#async-operations","title":"Async Operations","text":"<ul> <li>Use async/await for I/O-bound operations</li> <li>Don't block the event loop</li> <li>Use background tasks for long operations</li> </ul>"},{"location":"principles/best-practices/#api-design","title":"API Design","text":""},{"location":"principles/best-practices/#rest-conventions","title":"REST Conventions","text":"Method Use For Response <code>GET</code> Retrieve resources 200 OK <code>POST</code> Create resources 201 Created <code>PUT</code> Replace resources 200 OK <code>PATCH</code> Partial update 200 OK <code>DELETE</code> Remove resources 204 No Content"},{"location":"principles/best-practices/#response-format","title":"Response Format","text":"<pre><code>{\n  \"data\": { ... },\n  \"meta\": {\n    \"page\": 1,\n    \"per_page\": 20,\n    \"total\": 100\n  }\n}\n</code></pre>"},{"location":"principles/best-practices/#error-format","title":"Error Format","text":"<pre><code>{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Email is invalid\",\n    \"details\": [\n      {\"field\": \"email\", \"message\": \"Must be a valid email address\"}\n    ]\n  }\n}\n</code></pre>"},{"location":"principles/best-practices/#git-practices","title":"Git Practices","text":""},{"location":"principles/best-practices/#commit-messages","title":"Commit Messages","text":"<pre><code>feat(users): add email verification flow\n\n- Add verification email template\n- Create verification token service\n- Add /verify endpoint\n\nCloses #123\n</code></pre> <p>Format: <code>type(scope): subject</code></p> <p>Types: <code>feat</code>, <code>fix</code>, <code>docs</code>, <code>style</code>, <code>refactor</code>, <code>test</code>, <code>chore</code></p>"},{"location":"principles/best-practices/#branch-naming","title":"Branch Naming","text":"<pre><code>feature/user-verification\nbugfix/order-calculation\nhotfix/security-patch\n</code></pre> <p>See Git Workflow for full details.</p>"},{"location":"principles/best-practices/#common-pitfalls","title":"Common Pitfalls","text":""},{"location":"principles/best-practices/#avoid-these","title":"Avoid These","text":"Pitfall Better Approach Magic numbers Named constants Deep nesting Early returns, guard clauses God objects Single responsibility Premature optimization Profile first, optimize second Copy-paste code Extract to functions Boolean parameters Use enums or separate functions <pre><code># \u274c Boolean parameter\ndef send_notification(user, urgent=False):\n    ...\n\n# \u2705 Clear intent\ndef send_notification(user):\n    ...\n\ndef send_urgent_notification(user):\n    ...\n</code></pre>"},{"location":"principles/code-quality/","title":"Code Quality Standards","text":"<p>Our expectations for code quality, testing, and documentation.</p>"},{"location":"principles/code-quality/#code-standards","title":"Code Standards","text":""},{"location":"principles/code-quality/#python-style","title":"Python Style","text":"<p>We follow PEP 8 with these additions:</p> <ul> <li>Line length: 88 characters (Black default)</li> <li>Imports: Sorted with <code>isort</code>, grouped by standard library \u2192 third party \u2192 local</li> <li>Type hints: Required for all function signatures</li> <li>Docstrings: Google style for all public functions and classes</li> </ul> <pre><code>def calculate_discount(\n    order_total: Decimal,\n    discount_percentage: int,\n    *,\n    max_discount: Decimal | None = None,\n) -&gt; Decimal:\n    \"\"\"Calculate the discount amount for an order.\n\n    Args:\n        order_total: The total order value before discount.\n        discount_percentage: Percentage to discount (0-100).\n        max_discount: Optional maximum discount cap.\n\n    Returns:\n        The calculated discount amount.\n\n    Raises:\n        ValueError: If discount_percentage is not between 0 and 100.\n    \"\"\"\n    if not 0 &lt;= discount_percentage &lt;= 100:\n        raise ValueError(\"Discount must be between 0 and 100\")\n\n    discount = order_total * (discount_percentage / 100)\n\n    if max_discount is not None:\n        discount = min(discount, max_discount)\n\n    return discount\n</code></pre>"},{"location":"principles/code-quality/#typescript-style","title":"TypeScript Style","text":"<ul> <li>Strict mode: Always enabled</li> <li>Explicit types: For function parameters and return types</li> <li>Prefer interfaces: Over type aliases for object shapes</li> <li>No <code>any</code>: Use <code>unknown</code> and narrow types</li> </ul>"},{"location":"principles/code-quality/#linting-formatting","title":"Linting &amp; Formatting","text":"<p>All code must pass linting before merge.</p>"},{"location":"principles/code-quality/#python","title":"Python","text":"Tool Purpose <code>ruff</code> Fast linting (replaces flake8, isort, pyupgrade) <code>black</code> Code formatting <code>mypy</code> Type checking <pre><code># Run all checks\nruff check .\nblack --check .\nmypy .\n</code></pre>"},{"location":"principles/code-quality/#typescript","title":"TypeScript","text":"Tool Purpose <code>eslint</code> Linting <code>prettier</code> Formatting <code>tsc</code> Type checking"},{"location":"principles/code-quality/#testing-requirements","title":"Testing Requirements","text":""},{"location":"principles/code-quality/#coverage-expectations","title":"Coverage Expectations","text":"Code Type Minimum Coverage Business Logic 90% API Endpoints 80% Utilities 70% Overall 80%"},{"location":"principles/code-quality/#test-types","title":"Test Types","text":"<ol> <li>Unit Tests \u2014 Test individual functions and classes in isolation</li> <li>Integration Tests \u2014 Test components working together</li> <li>API Tests \u2014 Test HTTP endpoints end-to-end</li> </ol>"},{"location":"principles/code-quality/#testing-principles","title":"Testing Principles","text":"<pre><code># \u2705 Good: Test behavior, not implementation\ndef test_user_can_place_order():\n    user = create_user(balance=100)\n    product = create_product(price=50)\n\n    order = place_order(user, product)\n\n    assert order.status == OrderStatus.CONFIRMED\n    assert user.balance == 50\n\n# \u274c Bad: Testing implementation details\ndef test_order_service_calls_payment_service():\n    mock_payment = Mock()\n    service = OrderService(payment=mock_payment)\n\n    service.create_order(...)\n\n    mock_payment.process.assert_called_once()  # Who cares?\n</code></pre>"},{"location":"principles/code-quality/#test-naming","title":"Test Naming","text":"<p>Tests should read like specifications:</p> <pre><code># \u2705 Good names\ndef test_user_cannot_order_when_balance_insufficient():\ndef test_discount_is_capped_at_maximum():\ndef test_expired_token_returns_401():\n\n# \u274c Bad names\ndef test_order():\ndef test_discount_calc():\ndef test_auth():\n</code></pre>"},{"location":"principles/code-quality/#documentation","title":"Documentation","text":""},{"location":"principles/code-quality/#what-to-document","title":"What to Document","text":"Document Required For Module docstring Every module Class docstring Every public class Function docstring Every public function README Every service/package API docs Every endpoint (auto-generated)"},{"location":"principles/code-quality/#readme-requirements","title":"README Requirements","text":"<p>Every service/package needs a README with:</p> <ol> <li>Purpose \u2014 What does this do?</li> <li>Setup \u2014 How do I run it locally?</li> <li>Usage \u2014 How do I use the main features?</li> <li>Architecture \u2014 High-level overview</li> </ol>"},{"location":"principles/code-quality/#comments","title":"Comments","text":"<pre><code># \u2705 Good: Explain WHY, not WHAT\n# We use a 5-second timeout because the external API sometimes\n# takes up to 4 seconds under load, plus network latency margin.\ntimeout = 5\n\n# \u274c Bad: Obvious comment\n# Set timeout to 5\ntimeout = 5\n</code></pre>"},{"location":"principles/code-quality/#code-review-checklist","title":"Code Review Checklist","text":"<p>Before approving a PR, verify:</p> <ul> <li> Code follows style guidelines</li> <li> All tests pass</li> <li> New functionality has tests</li> <li> Public APIs are documented</li> <li> No hardcoded secrets or config</li> <li> Error handling is appropriate</li> <li> No obvious performance issues</li> </ul>"},{"location":"tech-stack/","title":"Tech Stack","text":"<p>Our technology choices and why we made them.</p>"},{"location":"tech-stack/#philosophy","title":"Philosophy","text":"<p>We don't chase trends. We choose boring, proven technology that:</p> <ol> <li>Has a track record \u2014 Used in production at scale</li> <li>Has great documentation \u2014 Well-documented, active community</li> <li>Has staying power \u2014 Will exist in 5 years</li> <li>Solves our problems \u2014 Not solutions looking for problems</li> </ol>"},{"location":"tech-stack/#stack-overview","title":"Stack Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      Frontend                           \u2502\n\u2502         React \u00b7 Next.js \u00b7 TypeScript \u00b7 Tailwind         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                        API                              \u2502\n\u2502             FastAPI \u00b7 Python 3.11+ \u00b7 Pydantic           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                  Background Jobs                        \u2502\n\u2502                  Celery \u00b7 Redis                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                     Databases                           \u2502\n\u2502              PostgreSQL \u00b7 Redis \u00b7 S3                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                   Infrastructure                        \u2502\n\u2502            Docker \u00b7 VPS \u00b7 Nginx \u00b7 GitHub Actions        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tech-stack/#quick-reference","title":"Quick Reference","text":"Layer Technology Version Language Python 3.11+ Framework FastAPI 0.109+ ORM SQLAlchemy 2.0+ Validation Pydantic 2.0+ Task Queue Celery 5.3+ Database PostgreSQL 15+ Cache Redis 7.0+ Frontend Next.js 14+ UI Framework React 18+ Type System TypeScript 5.0+ Container Docker 24+ Reverse Proxy Nginx latest CI/CD GitHub Actions \u2014"},{"location":"tech-stack/#explore","title":"Explore","text":"<ul> <li> <p> Backend</p> <p>FastAPI, Python, SQLAlchemy, Celery \u2014 our server-side stack.</p> <p> Backend details</p> </li> <li> <p> Frontend</p> <p>React, Next.js, TypeScript \u2014 building user interfaces.</p> <p> Frontend details</p> </li> <li> <p> Infrastructure</p> <p>Docker, VPS, CI/CD \u2014 how we deploy and run.</p> <p> Infrastructure details</p> </li> <li> <p> Databases</p> <p>PostgreSQL, Redis \u2014 data storage and caching.</p> <p> Database details</p> </li> </ul>"},{"location":"tech-stack/backend/","title":"Backend","text":"<p>Our server-side technology stack.</p>"},{"location":"tech-stack/backend/#fastapi","title":"FastAPI","text":"<p>FastAPI is our web framework of choice.</p>"},{"location":"tech-stack/backend/#why-fastapi","title":"Why FastAPI?","text":"Feature Benefit Type hints Automatic validation, documentation, and IDE support Async support Native async/await for I/O-bound operations Auto documentation OpenAPI/Swagger generated from code Performance One of the fastest Python frameworks Pydantic integration Robust data validation"},{"location":"tech-stack/backend/#project-structure","title":"Project Structure","text":"<pre><code>app/\n\u251c\u2500\u2500 apis/\n\u2502   \u2514\u2500\u2500 v1.py              # API router with versioning\n\u251c\u2500\u2500 core/\n\u2502   \u251c\u2500\u2500 config.py          # Settings management\n\u2502   \u251c\u2500\u2500 database.py        # Database connection\n\u2502   \u251c\u2500\u2500 dependencies.py    # DI containers\n\u2502   \u2514\u2500\u2500 security.py        # Auth utilities\n\u251c\u2500\u2500 models/                # SQLAlchemy models\n\u251c\u2500\u2500 schemas/               # Pydantic schemas\n\u251c\u2500\u2500 services/              # Business logic\n\u251c\u2500\u2500 crud/                  # Database operations\n\u2514\u2500\u2500 main.py               # Application entry\n</code></pre>"},{"location":"tech-stack/backend/#example-endpoint","title":"Example Endpoint","text":"<pre><code>from fastapi import APIRouter, Depends, HTTPException, status\nfrom app.schemas.user import UserCreate, UserResponse\nfrom app.services.user import UserService\nfrom app.core.dependencies import get_user_service\n\nrouter = APIRouter(prefix=\"/users\", tags=[\"users\"])\n\n\n@router.post(\"/\", response_model=UserResponse, status_code=status.HTTP_201_CREATED)\nasync def create_user(\n    data: UserCreate,\n    service: UserService = Depends(get_user_service),\n) -&gt; UserResponse:\n    \"\"\"Create a new user.\"\"\"\n    user = await service.create(data)\n    return user\n</code></pre>"},{"location":"tech-stack/backend/#python","title":"Python","text":"<p>We use Python 3.11+ for all backend services.</p>"},{"location":"tech-stack/backend/#version-policy","title":"Version Policy","text":"<ul> <li>Minimum: Python 3.11</li> <li>Target: Latest stable (currently 3.12)</li> <li>Upgrade cycle: Within 6 months of new stable release</li> </ul>"},{"location":"tech-stack/backend/#key-libraries","title":"Key Libraries","text":"Library Purpose <code>pydantic</code> Data validation and settings <code>sqlalchemy</code> Database ORM <code>alembic</code> Database migrations <code>passlib</code> Password hashing <code>python-jose</code> JWT handling <code>httpx</code> HTTP client <code>tenacity</code> Retry logic"},{"location":"tech-stack/backend/#sqlalchemy-20","title":"SQLAlchemy 2.0","text":"<p>We use SQLAlchemy's 2.0 style for ORM operations.</p>"},{"location":"tech-stack/backend/#model-example","title":"Model Example","text":"<pre><code>from datetime import datetime\nfrom uuid import UUID, uuid4\nfrom sqlalchemy import String, DateTime, func\nfrom sqlalchemy.orm import Mapped, mapped_column, relationship\nfrom app.core.database import Base\n\n\nclass User(Base):\n    __tablename__ = \"users\"\n\n    id: Mapped[UUID] = mapped_column(primary_key=True, default=uuid4)\n    email: Mapped[str] = mapped_column(String(255), unique=True, index=True)\n    hashed_password: Mapped[str] = mapped_column(String(255))\n    is_active: Mapped[bool] = mapped_column(default=True)\n    created_at: Mapped[datetime] = mapped_column(\n        DateTime(timezone=True), \n        server_default=func.now()\n    )\n\n    orders: Mapped[list[\"Order\"]] = relationship(back_populates=\"user\")\n</code></pre>"},{"location":"tech-stack/backend/#query-patterns","title":"Query Patterns","text":"<pre><code>from sqlalchemy import select\nfrom sqlalchemy.ext.asyncio import AsyncSession\n\n\nasync def get_active_users(db: AsyncSession) -&gt; list[User]:\n    stmt = select(User).where(User.is_active == True)\n    result = await db.execute(stmt)\n    return result.scalars().all()\n</code></pre>"},{"location":"tech-stack/backend/#celery","title":"Celery","text":"<p>Background task processing with Celery and Redis.</p>"},{"location":"tech-stack/backend/#use-cases","title":"Use Cases","text":"<ul> <li>Sending emails</li> <li>Processing uploads</li> <li>Scheduled jobs (with Celery Beat)</li> <li>Long-running computations</li> </ul>"},{"location":"tech-stack/backend/#task-example","title":"Task Example","text":"<pre><code>from celery import shared_task\nfrom app.services.email import send_email\n\n\n@shared_task(\n    bind=True,\n    max_retries=3,\n    default_retry_delay=60,\n)\ndef send_welcome_email(self, user_id: str) -&gt; None:\n    \"\"\"Send welcome email to new user.\"\"\"\n    try:\n        user = get_user(user_id)\n        send_email(\n            to=user.email,\n            subject=\"Welcome!\",\n            template=\"welcome\",\n        )\n    except TransientError as e:\n        raise self.retry(exc=e)\n</code></pre>"},{"location":"tech-stack/backend/#configuration","title":"Configuration","text":"<pre><code># celery.py\nfrom celery import Celery\n\napp = Celery(\"tasks\")\napp.config_from_object({\n    \"broker_url\": \"redis://localhost:6379/0\",\n    \"result_backend\": \"redis://localhost:6379/1\",\n    \"task_serializer\": \"json\",\n    \"result_serializer\": \"json\",\n    \"accept_content\": [\"json\"],\n    \"timezone\": \"UTC\",\n    \"task_track_started\": True,\n})\n</code></pre>"},{"location":"tech-stack/backend/#pydantic","title":"Pydantic","text":"<p>Data validation and serialization.</p>"},{"location":"tech-stack/backend/#schema-example","title":"Schema Example","text":"<pre><code>from datetime import datetime\nfrom uuid import UUID\nfrom pydantic import BaseModel, EmailStr, Field\n\n\nclass UserBase(BaseModel):\n    email: EmailStr\n    full_name: str = Field(..., min_length=1, max_length=100)\n\n\nclass UserCreate(UserBase):\n    password: str = Field(..., min_length=8)\n\n\nclass UserResponse(UserBase):\n    id: UUID\n    is_active: bool\n    created_at: datetime\n\n    model_config = {\"from_attributes\": True}\n</code></pre>"},{"location":"tech-stack/backend/#validation-features","title":"Validation Features","text":"<ul> <li>Email validation with <code>EmailStr</code></li> <li>Length constraints with <code>Field</code></li> <li>Custom validators with <code>@field_validator</code></li> <li>Computed fields with <code>@computed_field</code></li> </ul>"},{"location":"tech-stack/databases/","title":"Databases","text":"<p>Our data storage and caching technologies.</p>"},{"location":"tech-stack/databases/#postgresql","title":"PostgreSQL","text":"<p>PostgreSQL is our primary database.</p>"},{"location":"tech-stack/databases/#why-postgresql","title":"Why PostgreSQL?","text":"Feature Benefit ACID compliance Data integrity guaranteed Rich data types JSON, arrays, UUID native support Advanced features CTEs, window functions, full-text search Extensions PostGIS, pg_trgm, etc. Reliability Battle-tested, decades of production use"},{"location":"tech-stack/databases/#version-policy","title":"Version Policy","text":"<ul> <li>Minimum: PostgreSQL 15</li> <li>Target: Latest stable</li> <li>Upgrade: Test thoroughly, plan maintenance windows</li> </ul>"},{"location":"tech-stack/databases/#schema-design-principles","title":"Schema Design Principles","text":"<ol> <li>Use UUIDs for primary keys \u2014 Avoid sequential IDs for security</li> <li>Add timestamps always \u2014 <code>created_at</code>, <code>updated_at</code> on every table</li> <li>Index foreign keys \u2014 Automatic index creation on FK columns</li> <li>Soft delete carefully \u2014 Consider <code>deleted_at</code> vs hard delete</li> </ol> <pre><code>-- Example table structure\nCREATE TABLE users (\n    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),\n    email VARCHAR(255) NOT NULL UNIQUE,\n    hashed_password VARCHAR(255) NOT NULL,\n    full_name VARCHAR(100) NOT NULL,\n    is_active BOOLEAN DEFAULT true,\n    created_at TIMESTAMPTZ DEFAULT now(),\n    updated_at TIMESTAMPTZ DEFAULT now()\n);\n\nCREATE INDEX idx_users_email ON users(email);\nCREATE INDEX idx_users_active ON users(is_active) WHERE is_active = true;\n</code></pre>"},{"location":"tech-stack/databases/#migrations-with-alembic","title":"Migrations with Alembic","text":"<pre><code># alembic/versions/001_create_users.py\n\"\"\"Create users table\n\nRevision ID: 001\n\"\"\"\nfrom alembic import op\nimport sqlalchemy as sa\n\n\ndef upgrade():\n    op.create_table(\n        'users',\n        sa.Column('id', sa.UUID, primary_key=True),\n        sa.Column('email', sa.String(255), nullable=False, unique=True),\n        sa.Column('hashed_password', sa.String(255), nullable=False),\n        sa.Column('is_active', sa.Boolean, default=True),\n        sa.Column('created_at', sa.DateTime(timezone=True), server_default=sa.func.now()),\n    )\n    op.create_index('idx_users_email', 'users', ['email'])\n\n\ndef downgrade():\n    op.drop_table('users')\n</code></pre>"},{"location":"tech-stack/databases/#query-optimization","title":"Query Optimization","text":"<pre><code>-- Use EXPLAIN ANALYZE to understand query performance\nEXPLAIN ANALYZE\nSELECT u.*, COUNT(o.id) as order_count\nFROM users u\nLEFT JOIN orders o ON o.user_id = u.id\nWHERE u.is_active = true\nGROUP BY u.id\nORDER BY order_count DESC\nLIMIT 10;\n\n-- Add indexes based on query patterns\nCREATE INDEX idx_orders_user_id ON orders(user_id);\nCREATE INDEX idx_orders_created_at ON orders(created_at DESC);\n</code></pre>"},{"location":"tech-stack/databases/#redis","title":"Redis","text":"<p>Redis serves multiple purposes.</p>"},{"location":"tech-stack/databases/#use-cases","title":"Use Cases","text":"Use Case Configuration Session store Database 0, with TTL Cache Database 1, with TTL Celery broker Database 2 Celery results Database 3 Rate limiting Database 4"},{"location":"tech-stack/databases/#caching-patterns","title":"Caching Patterns","text":"<pre><code>import redis\nfrom functools import wraps\nfrom typing import Any\nimport json\n\nredis_client = redis.Redis(host='localhost', port=6379, db=1)\n\n\ndef cache(ttl: int = 300):\n    \"\"\"Cache decorator with TTL in seconds.\"\"\"\n    def decorator(func):\n        @wraps(func)\n        async def wrapper(*args, **kwargs):\n            # Generate cache key\n            key = f\"{func.__name__}:{hash(str(args) + str(kwargs))}\"\n\n            # Try cache\n            cached = redis_client.get(key)\n            if cached:\n                return json.loads(cached)\n\n            # Execute and cache\n            result = await func(*args, **kwargs)\n            redis_client.setex(key, ttl, json.dumps(result))\n            return result\n        return wrapper\n    return decorator\n\n\n@cache(ttl=60)\nasync def get_user_profile(user_id: str) -&gt; dict:\n    \"\"\"Cached user profile lookup.\"\"\"\n    return await db.users.get(user_id)\n</code></pre>"},{"location":"tech-stack/databases/#rate-limiting","title":"Rate Limiting","text":"<pre><code>def check_rate_limit(key: str, limit: int, window: int) -&gt; bool:\n    \"\"\"\n    Check if rate limit is exceeded.\n\n    Args:\n        key: Unique identifier (e.g., user_id, IP)\n        limit: Maximum requests allowed\n        window: Time window in seconds\n\n    Returns:\n        True if request allowed, False if rate limited\n    \"\"\"\n    pipe = redis_client.pipeline()\n    now = int(time.time())\n\n    # Add current request\n    pipe.zadd(key, {str(now): now})\n    # Remove old requests\n    pipe.zremrangebyscore(key, 0, now - window)\n    # Count requests in window\n    pipe.zcard(key)\n    # Set expiry\n    pipe.expire(key, window)\n\n    results = pipe.execute()\n    request_count = results[2]\n\n    return request_count &lt;= limit\n</code></pre>"},{"location":"tech-stack/databases/#session-management","title":"Session Management","text":"<pre><code>from fastapi import Depends, HTTPException\nfrom uuid import uuid4\n\n\nasync def create_session(user_id: str) -&gt; str:\n    \"\"\"Create a new session.\"\"\"\n    session_id = str(uuid4())\n    redis_client.setex(\n        f\"session:{session_id}\",\n        3600 * 24 * 7,  # 7 days\n        user_id\n    )\n    return session_id\n\n\nasync def get_current_user(session_id: str) -&gt; str:\n    \"\"\"Get user from session.\"\"\"\n    user_id = redis_client.get(f\"session:{session_id}\")\n    if not user_id:\n        raise HTTPException(status_code=401)\n    return user_id.decode()\n</code></pre>"},{"location":"tech-stack/databases/#connection-pooling","title":"Connection Pooling","text":""},{"location":"tech-stack/databases/#postgresql-with-sqlalchemy","title":"PostgreSQL with SQLAlchemy","text":"<pre><code>from sqlalchemy.ext.asyncio import create_async_engine, AsyncSession\nfrom sqlalchemy.orm import sessionmaker\n\nengine = create_async_engine(\n    DATABASE_URL,\n    pool_size=10,           # Maximum connections in pool\n    max_overflow=20,        # Extra connections when pool exhausted\n    pool_timeout=30,        # Wait time for connection\n    pool_recycle=1800,      # Recycle connections after 30 min\n    pool_pre_ping=True,     # Verify connection health\n)\n\nAsyncSessionLocal = sessionmaker(\n    engine,\n    class_=AsyncSession,\n    expire_on_commit=False,\n)\n\n\nasync def get_db():\n    async with AsyncSessionLocal() as session:\n        try:\n            yield session\n        finally:\n            await session.close()\n</code></pre>"},{"location":"tech-stack/databases/#redis-connection-pool","title":"Redis Connection Pool","text":"<pre><code>import redis\n\npool = redis.ConnectionPool(\n    host='localhost',\n    port=6379,\n    max_connections=50,\n    decode_responses=True,\n)\n\nredis_client = redis.Redis(connection_pool=pool)\n</code></pre>"},{"location":"tech-stack/databases/#backup-strategy","title":"Backup Strategy","text":""},{"location":"tech-stack/databases/#postgresql_1","title":"PostgreSQL","text":"<pre><code>#!/bin/bash\n# Daily backup script\n\nDATE=$(date +%Y%m%d)\nBACKUP_DIR=/backups/postgres\n\n# Create backup\npg_dump -h localhost -U app -d appdb | gzip &gt; $BACKUP_DIR/backup_$DATE.sql.gz\n\n# Upload to S3\naws s3 cp $BACKUP_DIR/backup_$DATE.sql.gz s3://backups/postgres/\n\n# Keep last 30 days locally\nfind $BACKUP_DIR -type f -mtime +30 -delete\n</code></pre>"},{"location":"tech-stack/databases/#redis_1","title":"Redis","text":"<pre><code># Enable RDB snapshots\nsave 900 1      # Save after 900s if 1 key changed\nsave 300 10     # Save after 300s if 10 keys changed\nsave 60 10000   # Save after 60s if 10000 keys changed\n\n# Enable AOF for durability\nappendonly yes\nappendfsync everysec\n</code></pre>"},{"location":"tech-stack/databases/#monitoring","title":"Monitoring","text":""},{"location":"tech-stack/databases/#key-metrics","title":"Key Metrics","text":"Metric Warning Critical Connection count 80% of max 95% of max Query latency (p99) &gt; 500ms &gt; 2s Cache hit rate &lt; 90% &lt; 70% Disk usage 80% 90%"},{"location":"tech-stack/databases/#health-check-query","title":"Health Check Query","text":"<pre><code>-- PostgreSQL health check\nSELECT \n    pg_database_size('appdb') as db_size,\n    numbackends as active_connections,\n    xact_commit as total_commits,\n    xact_rollback as total_rollbacks\nFROM pg_stat_database \nWHERE datname = 'appdb';\n</code></pre>"},{"location":"tech-stack/frontend/","title":"Frontend","text":"<p>Our client-side technology stack.</p>"},{"location":"tech-stack/frontend/#nextjs","title":"Next.js","text":"<p>Next.js is our React framework.</p>"},{"location":"tech-stack/frontend/#why-nextjs","title":"Why Next.js?","text":"Feature Benefit Server Components Reduced client bundle, faster initial load App Router Modern routing with layouts API Routes Backend-for-frontend when needed ISR Incremental static regeneration Edge Runtime Deploy close to users"},{"location":"tech-stack/frontend/#project-structure","title":"Project Structure","text":"<pre><code>src/\n\u251c\u2500\u2500 app/                   # App Router pages\n\u2502   \u251c\u2500\u2500 layout.tsx        # Root layout\n\u2502   \u251c\u2500\u2500 page.tsx          # Home page\n\u2502   \u2514\u2500\u2500 (routes)/         # Route groups\n\u251c\u2500\u2500 components/\n\u2502   \u251c\u2500\u2500 ui/               # Reusable UI components\n\u2502   \u2514\u2500\u2500 features/         # Feature-specific components\n\u251c\u2500\u2500 lib/\n\u2502   \u251c\u2500\u2500 api/              # API client\n\u2502   \u251c\u2500\u2500 hooks/            # Custom hooks\n\u2502   \u2514\u2500\u2500 utils/            # Utility functions\n\u251c\u2500\u2500 stores/               # State management\n\u2514\u2500\u2500 types/                # TypeScript types\n</code></pre>"},{"location":"tech-stack/frontend/#react","title":"React","text":"<p>We use React 18+ with modern patterns.</p>"},{"location":"tech-stack/frontend/#component-patterns","title":"Component Patterns","text":"<pre><code>// \u2705 Functional components with TypeScript\ninterface ButtonProps {\n  variant?: \"primary\" | \"secondary\";\n  children: React.ReactNode;\n  onClick?: () =&gt; void;\n  disabled?: boolean;\n}\n\nexport function Button({ \n  variant = \"primary\", \n  children, \n  onClick,\n  disabled = false,\n}: ButtonProps) {\n  return (\n    &lt;button\n      className={`btn btn-${variant}`}\n      onClick={onClick}\n      disabled={disabled}\n    &gt;\n      {children}\n    &lt;/button&gt;\n  );\n}\n</code></pre>"},{"location":"tech-stack/frontend/#hooks-best-practices","title":"Hooks Best Practices","text":"<pre><code>// Custom hook for data fetching\nfunction useUser(userId: string) {\n  const [user, setUser] = useState&lt;User | null&gt;(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState&lt;Error | null&gt;(null);\n\n  useEffect(() =&gt; {\n    let cancelled = false;\n\n    async function fetchUser() {\n      try {\n        const data = await api.users.get(userId);\n        if (!cancelled) {\n          setUser(data);\n        }\n      } catch (err) {\n        if (!cancelled) {\n          setError(err as Error);\n        }\n      } finally {\n        if (!cancelled) {\n          setLoading(false);\n        }\n      }\n    }\n\n    fetchUser();\n\n    return () =&gt; {\n      cancelled = true;\n    };\n  }, [userId]);\n\n  return { user, loading, error };\n}\n</code></pre>"},{"location":"tech-stack/frontend/#typescript","title":"TypeScript","text":"<p>Strict TypeScript everywhere.</p>"},{"location":"tech-stack/frontend/#configuration","title":"Configuration","text":"<pre><code>// tsconfig.json\n{\n  \"compilerOptions\": {\n    \"strict\": true,\n    \"noUncheckedIndexedAccess\": true,\n    \"exactOptionalPropertyTypes\": true,\n    \"noImplicitReturns\": true,\n    \"noFallthroughCasesInSwitch\": true\n  }\n}\n</code></pre>"},{"location":"tech-stack/frontend/#type-utilities","title":"Type Utilities","text":"<pre><code>// API response types\ninterface ApiResponse&lt;T&gt; {\n  data: T;\n  meta?: {\n    page: number;\n    total: number;\n  };\n}\n\n// Utility types\ntype NonNullableFields&lt;T&gt; = {\n  [P in keyof T]: NonNullable&lt;T[P]&gt;;\n};\n\n// Branded types for type safety\ntype UserId = string &amp; { readonly brand: unique symbol };\ntype OrderId = string &amp; { readonly brand: unique symbol };\n</code></pre>"},{"location":"tech-stack/frontend/#styling","title":"Styling","text":""},{"location":"tech-stack/frontend/#tailwind-css","title":"Tailwind CSS","text":"<p>We use Tailwind CSS for styling.</p> <pre><code>&lt;button className=\"\n  px-4 py-2 \n  bg-blue-600 hover:bg-blue-700 \n  text-white font-medium \n  rounded-lg \n  transition-colors\n  disabled:opacity-50 disabled:cursor-not-allowed\n\"&gt;\n  Submit\n&lt;/button&gt;\n</code></pre>"},{"location":"tech-stack/frontend/#design-tokens","title":"Design Tokens","text":"<pre><code>// tailwind.config.js\nmodule.exports = {\n  theme: {\n    extend: {\n      colors: {\n        primary: {\n          50: '#eff6ff',\n          500: '#3b82f6',\n          600: '#2563eb',\n          700: '#1d4ed8',\n        },\n        accent: {\n          500: '#10b981',\n          600: '#059669',\n        },\n      },\n      fontFamily: {\n        sans: ['Inter', 'sans-serif'],\n      },\n    },\n  },\n};\n</code></pre>"},{"location":"tech-stack/frontend/#state-management","title":"State Management","text":""},{"location":"tech-stack/frontend/#server-state-tanstack-query","title":"Server State: TanStack Query","text":"<pre><code>import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\n\nfunction useOrders() {\n  return useQuery({\n    queryKey: ['orders'],\n    queryFn: () =&gt; api.orders.list(),\n    staleTime: 5 * 60 * 1000, // 5 minutes\n  });\n}\n\nfunction useCreateOrder() {\n  const queryClient = useQueryClient();\n\n  return useMutation({\n    mutationFn: (data: CreateOrderInput) =&gt; api.orders.create(data),\n    onSuccess: () =&gt; {\n      queryClient.invalidateQueries({ queryKey: ['orders'] });\n    },\n  });\n}\n</code></pre>"},{"location":"tech-stack/frontend/#client-state-zustand","title":"Client State: Zustand","text":"<pre><code>import { create } from 'zustand';\n\ninterface CartStore {\n  items: CartItem[];\n  addItem: (item: CartItem) =&gt; void;\n  removeItem: (id: string) =&gt; void;\n  clear: () =&gt; void;\n}\n\nexport const useCartStore = create&lt;CartStore&gt;((set) =&gt; ({\n  items: [],\n  addItem: (item) =&gt; set((state) =&gt; ({ \n    items: [...state.items, item] \n  })),\n  removeItem: (id) =&gt; set((state) =&gt; ({ \n    items: state.items.filter((i) =&gt; i.id !== id) \n  })),\n  clear: () =&gt; set({ items: [] }),\n}));\n</code></pre>"},{"location":"tech-stack/frontend/#testing","title":"Testing","text":""},{"location":"tech-stack/frontend/#component-testing-vitest-testing-library","title":"Component Testing: Vitest + Testing Library","text":"<pre><code>import { render, screen, fireEvent } from '@testing-library/react';\nimport { Button } from './Button';\n\ndescribe('Button', () =&gt; {\n  it('calls onClick when clicked', () =&gt; {\n    const handleClick = vi.fn();\n    render(&lt;Button onClick={handleClick}&gt;Click me&lt;/Button&gt;);\n\n    fireEvent.click(screen.getByRole('button'));\n\n    expect(handleClick).toHaveBeenCalledOnce();\n  });\n\n  it('is disabled when disabled prop is true', () =&gt; {\n    render(&lt;Button disabled&gt;Submit&lt;/Button&gt;);\n\n    expect(screen.getByRole('button')).toBeDisabled();\n  });\n});\n</code></pre>"},{"location":"tech-stack/frontend/#e2e-testing-playwright","title":"E2E Testing: Playwright","text":"<pre><code>import { test, expect } from '@playwright/test';\n\ntest('user can complete checkout', async ({ page }) =&gt; {\n  await page.goto('/products');\n  await page.click('[data-testid=\"add-to-cart\"]');\n  await page.click('[data-testid=\"checkout-button\"]');\n  await page.fill('[name=\"email\"]', 'test@example.com');\n  await page.click('[type=\"submit\"]');\n\n  await expect(page).toHaveURL('/order-confirmation');\n});\n</code></pre>"},{"location":"tech-stack/infrastructure/","title":"Infrastructure","text":"<p>How we deploy and run our applications.</p>"},{"location":"tech-stack/infrastructure/#overview","title":"Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      User Request                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                         Nginx                               \u2502\n\u2502              (Reverse Proxy, SSL, Rate Limiting)            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u25bc               \u25bc               \u25bc\n      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n      \u2502 FastAPI   \u2502   \u2502 FastAPI   \u2502   \u2502  Celery   \u2502\n      \u2502 Worker 1  \u2502   \u2502 Worker 2  \u2502   \u2502  Worker   \u2502\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n              \u2502               \u2502               \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                              \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Data Layer                               \u2502\n\u2502         PostgreSQL        Redis         S3/MinIO            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"tech-stack/infrastructure/#docker","title":"Docker","text":"<p>All services run in Docker containers.</p>"},{"location":"tech-stack/infrastructure/#base-dockerfile","title":"Base Dockerfile","text":"<pre><code># Build stage\nFROM python:3.12-slim AS builder\n\nWORKDIR /app\n\n# Install build dependencies\nRUN apt-get update &amp;&amp; apt-get install -y --no-install-recommends \\\n    build-essential \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\n# Create virtual environment\nRUN python -m venv /opt/venv\nENV PATH=\"/opt/venv/bin:$PATH\"\n\n# Install dependencies\nCOPY requirements.txt .\nRUN pip install --no-cache-dir -r requirements.txt\n\n# Production stage\nFROM python:3.12-slim\n\nWORKDIR /app\n\n# Copy virtual environment\nCOPY --from=builder /opt/venv /opt/venv\nENV PATH=\"/opt/venv/bin:$PATH\"\n\n# Copy application\nCOPY ./app ./app\n\n# Non-root user\nRUN useradd --create-home appuser\nUSER appuser\n\nEXPOSE 8000\n\nCMD [\"uvicorn\", \"app.main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n</code></pre>"},{"location":"tech-stack/infrastructure/#docker-compose","title":"Docker Compose","text":"<pre><code># docker-compose.yml\nservices:\n  api:\n    build: .\n    ports:\n      - \"8000:8000\"\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/app\n      - REDIS_URL=redis://redis:6379/0\n    depends_on:\n      - db\n      - redis\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  celery:\n    build: .\n    command: celery -A app.worker worker --loglevel=info\n    environment:\n      - DATABASE_URL=postgresql://user:pass@db:5432/app\n      - REDIS_URL=redis://redis:6379/0\n    depends_on:\n      - db\n      - redis\n\n  db:\n    image: postgres:15-alpine\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    environment:\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=pass\n      - POSTGRES_DB=app\n\n  redis:\n    image: redis:7-alpine\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n</code></pre>"},{"location":"tech-stack/infrastructure/#vps-deployment","title":"VPS Deployment","text":"<p>We deploy to VPS using the <code>deploy-vps</code> plugin from FCube.</p>"},{"location":"tech-stack/infrastructure/#stack","title":"Stack","text":"Component Technology Container Runtime Docker + Docker Compose Reverse Proxy Nginx SSL Let's Encrypt (Certbot) Process Manager Docker Compose Monitoring Flower (Celery)"},{"location":"tech-stack/infrastructure/#deployment-flow","title":"Deployment Flow","text":"<pre><code>graph LR\n    A[Push to main] --&gt; B[GitHub Actions]\n    B --&gt; C[Run Tests]\n    C --&gt; D[Build Image]\n    D --&gt; E[Push to Registry]\n    E --&gt; F[SSH to VPS]\n    F --&gt; G[Pull &amp; Deploy]</code></pre>"},{"location":"tech-stack/infrastructure/#server-setup","title":"Server Setup","text":"<pre><code># Using FCube deploy-vps plugin\nfcube addplugin deploy_vps\n\n# Configure\ncd deploy-vps\n./scripts/setup.sh\n\n# Deploy\n./scripts/deploy.sh init\n</code></pre>"},{"location":"tech-stack/infrastructure/#nginx","title":"Nginx","text":"<p>Nginx handles:</p> <ul> <li>SSL termination</li> <li>Rate limiting</li> <li>Static file serving</li> <li>Load balancing (multiple workers)</li> </ul>"},{"location":"tech-stack/infrastructure/#example-configuration","title":"Example Configuration","text":"<pre><code>upstream api {\n    server api:8000;\n}\n\nserver {\n    listen 443 ssl http2;\n    server_name api.example.com;\n\n    ssl_certificate /etc/letsencrypt/live/example.com/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/example.com/privkey.pem;\n\n    # Security headers\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n\n    # Rate limiting\n    limit_req zone=api burst=20 nodelay;\n\n    location / {\n        proxy_pass http://api;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n\n    location /static/ {\n        alias /var/www/static/;\n        expires 30d;\n    }\n}\n</code></pre>"},{"location":"tech-stack/infrastructure/#cicd","title":"CI/CD","text":"<p>We use GitHub Actions for continuous integration and deployment.</p>"},{"location":"tech-stack/infrastructure/#test-pipeline","title":"Test Pipeline","text":"<pre><code># .github/workflows/test.yml\nname: Test\n\non:\n  pull_request:\n    branches: [main, develop]\n\njobs:\n  test:\n    runs-on: ubuntu-latest\n\n    services:\n      postgres:\n        image: postgres:15\n        env:\n          POSTGRES_PASSWORD: test\n        options: &gt;-\n          --health-cmd pg_isready\n          --health-interval 10s\n          --health-timeout 5s\n          --health-retries 5\n\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-python@v5\n        with:\n          python-version: '3.12'\n\n      - name: Install dependencies\n        run: pip install -r requirements.txt -r requirements-dev.txt\n\n      - name: Run tests\n        run: pytest --cov=app --cov-report=xml\n\n      - name: Upload coverage\n        uses: codecov/codecov-action@v4\n</code></pre>"},{"location":"tech-stack/infrastructure/#deploy-pipeline","title":"Deploy Pipeline","text":"<pre><code># .github/workflows/deploy.yml\nname: Deploy\n\non:\n  push:\n    branches: [main]\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Deploy to VPS\n        uses: appleboy/ssh-action@v1\n        with:\n          host: ${{ secrets.VPS_HOST }}\n          username: ${{ secrets.VPS_USER }}\n          key: ${{ secrets.VPS_SSH_KEY }}\n          script: |\n            cd /app\n            git pull\n            ./scripts/deploy.sh update\n</code></pre>"},{"location":"tech-stack/infrastructure/#monitoring","title":"Monitoring","text":""},{"location":"tech-stack/infrastructure/#health-checks","title":"Health Checks","text":"<pre><code>from fastapi import APIRouter\nfrom app.core.database import engine\n\nrouter = APIRouter()\n\n\n@router.get(\"/health\")\nasync def health_check():\n    \"\"\"Basic health check.\"\"\"\n    return {\"status\": \"healthy\"}\n\n\n@router.get(\"/health/ready\")\nasync def readiness_check():\n    \"\"\"Check all dependencies.\"\"\"\n    # Check database\n    async with engine.connect() as conn:\n        await conn.execute(text(\"SELECT 1\"))\n\n    # Check redis\n    await redis.ping()\n\n    return {\"status\": \"ready\"}\n</code></pre>"},{"location":"tech-stack/infrastructure/#logging","title":"Logging","text":"<p>Structured JSON logging for production:</p> <pre><code>import structlog\n\nstructlog.configure(\n    processors=[\n        structlog.processors.TimeStamper(fmt=\"iso\"),\n        structlog.processors.JSONRenderer(),\n    ],\n)\n\nlogger = structlog.get_logger()\nlogger.info(\"Order created\", order_id=order.id, user_id=user.id)\n</code></pre>"}]}